<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>System Design on Nguyá»…n Há»¯u TrÆ°á»Ÿng</title>
        <link>https://truongnh28.github.io/categories/system-design/</link>
        <description>Recent content in System Design on Nguyá»…n Há»¯u TrÆ°á»Ÿng</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sat, 14 May 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://truongnh28.github.io/categories/system-design/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>System Design Basic</title>
        <link>https://truongnh28.github.io/p/system-design-basic/</link>
        <pubDate>Sat, 14 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://truongnh28.github.io/p/system-design-basic/</guid>
        <description>&lt;img src="https://truongnh28.github.io/p/system-design-basic/system_design.png" alt="Featured image of post System Design Basic" /&gt;&lt;h2 id=&#34;cÃ¡c-tÃ­nh-cháº¥t-chÃ­nh-cá»§a-má»™t-há»‡-thá»‘ng-phÃ¢n-tÃ¡n&#34;&gt;CÃ¡c tÃ­nh cháº¥t chÃ­nh cá»§a má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n.&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Há»‡ thá»‘ng phÃ¢n tÃ¡n (distributed system) lÃ  há»‡ thá»‘ng pháº§n má»m mÃ  cÃ¡c thÃ nh pháº§n cáº¥u táº¡o nÃªn nÃ³ náº±m á»Ÿ trÃªn cÃ¡c mÃ¡y tÃ­nh khÃ¡c nhau Ä‘Æ°á»£c káº¿t ná»‘i thÃ nh máº¡ng lÆ°á»›i (network). CÃ¡c mÃ¡y tÃ­nh nÃ y phá»‘i há»£p hoáº¡t Ä‘á»™ng vá»›i nhau Ä‘á»ƒ hoÃ n thÃ nh má»™t nhiá»‡m vá»¥ chung báº±ng cÃ¡ch trao Ä‘á»•i qua láº¡i cÃ¡c thÃ´ng Ä‘iá»‡p (message)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;NÃ³i nÃ´m na lÃ  há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ  viá»‡c há»‡ thá»‘ng báº¡n cÃ³ nhiá»u quÃ¡ trÃ¬nh xá»­ lÃ½ Ä‘á»™c láº­p trÃªn nhiá»u nhiá»u server váº­t lÃ½ khÃ¡c nhau.&lt;/p&gt;
&lt;p&gt;Vá»›i cÃ¡c há»‡ thá»‘ng doanh nghiá»‡p lá»›n (enterprise) Ä‘Ã²i há»i sá»± linh hoáº¡t trong má»Ÿ rá»™ng báº£o trÃ¬ thÃ¬ distributed system lÃ  má»™t lá»±a chá»n hoÃ n háº£o.VÃ  cÃ¡c tÃ­nh cháº¥t chÃ­nh Ä‘á»ƒ hÃ¬nh thÃ nh má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ : &lt;strong&gt;Kháº£ nÄƒng má»Ÿ rá»™ng&lt;/strong&gt;(Scalability), &lt;strong&gt;Äá»™ tin cáº­y&lt;/strong&gt; (Reliability), &lt;strong&gt;TÃ­nh kháº£ dá»¥ng&lt;/strong&gt; (Availability), &lt;strong&gt;Hiá»‡u suáº¥t&lt;/strong&gt; (Efficiency) vÃ  &lt;strong&gt;TÃ¬nh má»Ÿ rá»™ng vÃ  kháº£ nÄƒng báº£o trÃ¬&lt;/strong&gt; (Manageability).&lt;/p&gt;
&lt;h3 id=&#34;1-kháº£-nÄƒng-má»Ÿ-rá»™ng-scalability&#34;&gt;1. Kháº£ nÄƒng má»Ÿ rá»™ng (Scalability)&lt;/h3&gt;
&lt;p&gt;Scalability lÃ  kháº£ nÄƒng má»Ÿ rá»™ng (scaling) cá»§a há»‡ thá»‘ng (system), quy trÃ¬nh (process) hay máº¡ng lÆ°á»›i (network), vá»›i nhu cáº§u gia tÄƒng vá» sá»‘ lÆ°á»£ng cÃ´ng viá»‡c tÄƒng theo thá»i gian cá»§a mÃ´ hÃ¬nh kinh doanh (business model).&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh kinh doanh cÃ³ thá»ƒ má»Ÿ rá»™ng quy mÃ´ vÃ¬ nhiá»u lÃ½ do nhÆ° gia tÄƒng khá»‘i lÆ°á»£ng dá»¯ liá»‡u lÆ°u trá»¯ (data storage) hay khá»‘i lÆ°á»£ng cÃ´ng viá»‡c (process/request) , vÃ­ dá»¥: sá»‘ lÆ°á»£ng truy cáº­p hay Ä‘áº·t hÃ ng cá»§a má»™t há»‡ thá»‘ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­. VÃ  yÃªu cáº§u cá»§a sá»± má»Ÿ rá»™ng pháº£i Ä‘áº¡t Ä‘Æ°á»£c nhu cáº§u nÃ y mÃ  khÃ´ng lÃ m giáº£m hiá»‡u suáº¥t, nÃ³i chung Scalability lÃ  Ä‘Ã¡p á»©ng Ä‘Æ°á»£c sá»­ má»Ÿ rá»™ng hay giáº£m theo kÃ­ch thÆ°á»›c cá»§a há»‡ thá»‘ng theo thá»i gian.&lt;/p&gt;
&lt;p&gt;CÃ³ hai dáº¡ng scaling lÃ  má»Ÿ rá»™ng theo chiá»u dá»c (vertical scaling) vÃ  má»Ÿ rá»™ng theo chiá»u ngang (horizontal scaling).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vertical scaling: lÃ  cÃ¡ch má»Ÿ rá»™ng server hiá»‡n táº¡i báº±ng cÃ¡ch nÃ¢ng cáº¥p Ä‘á»™ máº¡nh (power) báº±ng cÃ¡ch nÃ¢ng cáº¥p CPU, Ram, Storage, v.Vâ€¦ Vertical-scaling thÆ°á»ng bá»‹ giá»›i háº¡n bá»Ÿi vÆ°á»£t quÃ¡ kháº£ nÄƒng vá» cáº¥u hÃ¬nh váº­t lÃ½ hiá»‡n Ä‘áº¡i hay Ä‘á»™ trá»… khi â€œcháº³ng mayâ€ Server bá»‹ downtime Ä‘á»ƒ nÃ¢ng cáº¥p hay deploy há»‡ thá»‘ng.&lt;/li&gt;
&lt;li&gt;Horizontal scaling: lÃ  cÃ¡ch má»Ÿ rá»™ng báº±ng cÃ¡ch thÃªm nhiá»u Node/Server vÃ o má»™t máº¡ng lÆ°á»›i Ä‘ang cÃ³, lÃ m tÄƒng kháº£ nÄƒng chá»‹u táº£i cÃ³ há»‡ thá»‘ng. CÃ¡ch lÃ m nÃ y ráº» vÃ  dá»… lÃ m hÆ¡n so vá»›i Vertical-scaling, Ä‘áº·c biá»‡t lÃ  ráº¥t dá»… dÃ ng downsize cÅ©ng nhÆ° upsize há»‡ thá»‘ng
&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/scaling.png&#34;
	width=&#34;794&#34;
	height=&#34;464&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/scaling_hu4f58f2129d86d1fd6c79e75caa3aea3a_39150_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/scaling_hu4f58f2129d86d1fd6c79e75caa3aea3a_39150_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;scaling&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;171&#34;
		data-flex-basis=&#34;410px&#34;
	
&gt;
Má»™t vÃ­ dá»¥ cá»§a Horizontal-scaling lÃ  MongoDB vÃ  Cassandra, cáº£ hai Ä‘á»u cung cáº¥p sáºµn nhá»¯ng phÆ°Æ¡ng phÃ¡p Ä‘á»ƒ scale há»‡ thá»‘ng báº±ng cÃ¡ch thÃªm nhiá»u node vÃ o hoáº·c xÃ³a bá»›t cÃ¡c node mÃ  khÃ´ng há» cÃ³ Ä‘á»™ trá»… (zero downtime). VÃ  má»™t vÃ­ dá»¥ khÃ¡c vá» Vertical-scaling lÃ  MySQL, nÃ³ cÃ³ thá»ƒ dá»… dÃ ng chuyá»ƒn Ä‘á»•i má»™t Server Ä‘ang cháº¡y sang má»™t Server má»›i lá»›n hÆ¡n khá»e hÆ¡n, nhÆ°ng quÃ¡ trÃ¬nh cÃ³ downtime.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-Ä‘á»™-tin-cáº­y-reliability&#34;&gt;2. Äá»™ tin cáº­y (Reliability)&lt;/h3&gt;
&lt;p&gt;Reliability cÃ³ thá»ƒ giáº£i thÃ­ch dÃ¢n dÃ£ ráº±ng Ä‘Ã³ lÃ  Ä‘á»™ â€œlÃ¬â€ ğŸ’ª cá»§a há»‡ thá»‘ng cÃ³ nghÄ©a lÃ  há»‡ thá»‘ng sáº½ tiáº¿p tá»¥c cung cáº¥p dá»‹ch vá»¥ cá»§a mÃ¬nh ngay khi cÃ³ má»™t hoáº·c nhiá»u thÃ nh pháº§n (pháº§n má»m/pháº§n cá»©ng) cá»§a há»‡ thá»‘ng bá»‹ lá»—i. Reliability lÃ  thÃ nh pháº§n chÃ­nh trong báº¥t cá»© má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n (distributed system) nÃ o, bá»Ÿi vÃ¬ trong má»™t há»‡ thá»‘ng nhÆ° váº­y, má»i há»ng hÃ³c cá»§a má»™t thÃ nh pháº§n nÃ o Ä‘Ã³ sáº½ Ä‘Æ°á»£c thay tháº¿ má»™t thÃ nh pháº§n Ä‘ang khá»e máº¡nh khÃ¡c, Ä‘áº£m báº£o luÃ´n hoÃ n thÃ nh nhiá»‡m vá»¥ yÃªu cáº§u.&lt;/p&gt;
&lt;p&gt;VÃ­ dá»¥ cá»§a Ä‘á»™ tin cáº­y lÃ , má»™t trang thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ hay há»‡ thá»‘ng ngÃ¢n hÃ ng (banking) má»i thÃ´ng tin vá» giao dá»‹ch (transaction) cá»§a ngÆ°á»i dÃ¹ng sáº½ khÃ´ng bao giá» bá»‹ há»§y do lá»—i server Ä‘ang cháº¡y giao dá»‹ch Ä‘Ã³, má»—i server bá»‹ lá»—i sáº½ pháº£i Ä‘Æ°á»£c thay tháº¿ ngay bá»Ÿi má»™t báº£n sao chá»©a Ä‘áº§y Ä‘á»§ thÃ´ng tin cá»§a server Ä‘Ã³.&lt;/p&gt;
&lt;p&gt;Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»™ tin cáº­y, há»‡ thá»‘ng pháº£i cÃ³ cháº¿ Ä‘á»™ back-up real time cá»§a tá»«ng thÃ nh pháº§n trong há»‡ thá»‘ng, Ä‘Ã¢y cÅ©ng lÃ  má»™t thÃ¡ch thá»©c vá» máº·t ká»¹ thuáº­t cÅ©ng nhÆ° chi phÃ­ cá»§a dá»± Ã¡n.&lt;/p&gt;
&lt;h3 id=&#34;3-tÃ­nh-sáºµn-sÃ ng-availability&#34;&gt;3. TÃ­nh sáºµn sÃ ng (Availability)&lt;/h3&gt;
&lt;p&gt;TÃ­nh sáºµn sÃ ng lÃ  thá»i gian má»™t há»‡ thá»‘ng váº«n hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng trong má»™t khoáº£ng thá»i gian cá»¥ thá»ƒ, Ä‘Ã¢y lÃ  thÆ°á»›c Ä‘o Ä‘Æ¡n giáº£n vá» tá»· lá»‡ pháº§n trÄƒm thá»i gian mÃ  há»‡ thá»‘ng hoáº¡t Ä‘á»™ng liÃªn tá»¥c trong má»™t khoáº£ng thá»i gian bÃ¬nh thÆ°á»ng. VÃ­ dá»¥ nhÆ° má»™t chiáº¿c xe hÆ¡i cÃ³ thá»ƒ cháº¡y trong nhiá»u thÃ¡ng mÃ  khÃ´ng cáº§n báº£o trÃ¬ báº£o dÆ°á»¡ng, thÃ¬ cÃ³ thá»ƒ nÃ³i lÃ  chiáº¿c xe Ä‘Ã³ cÃ³ tÃ­nh availability cao. Náº¿u chiáº¿c xe hÆ¡i Ä‘Ã³ ngá»«ng hoáº¡t Ä‘á»™ng Ä‘á»ƒ Ä‘em tá»›i gara Ä‘á»ƒ báº£o trÃ¬, nÃ³ Ä‘Æ°á»£c coi lÃ  khÃ´ng availability trong thá»i gian Ä‘Ã³.&lt;/p&gt;
&lt;p&gt;Sá»± khÃ¡c nhau cá»§a Ä‘á»™ tin cáº­y (reliability) vÃ  tÃ­nh sáºµn sÃ ng (availability):
Náº¿u há»‡ thá»‘ng cÃ³ tÃ­nh reliability thÃ¬ nÃ³ cháº¯c cháº¯n sáº½ cÃ³ availability, tuy nhiÃªn há»‡ thá»‘ng cÃ³ tÃ­nh availability khÃ´ng cÃ³ nghÄ©a lÃ  nÃ³ cÃ³ tÃ­nh reliability. NÃ³i má»™t cÃ¡ch khÃ¡c thÃ¬ reliability cÃ³ nghÄ©a lÃ  nÃ³ cÃ³ tÃ­nh high availability, tuy nhiÃªn váº«n cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c tÃ­nh availability vá»›i má»™t há»‡ thá»‘ng khÃ´ng cÃ³ tÃ­nh reliability báº±ng cÃ¡ch giáº£m thiá»ƒu tá»‘i Ä‘a thá»i gian báº£o trÃ¬, sá»­a chá»¯a. HÃ£y láº¥y má»™t vÃ­ dá»¥, má»™t há»‡ thá»‘ng eCommerce cÃ³ tá»· lá»‡ availability lÃªn Ä‘áº¿n 99,99% trong hai nÄƒm Ä‘áº§u tiÃªn nÃ³ báº¯t Ä‘áº§u, nhÆ°ng há»‡ thá»‘ng cÃ³ má»™t lá»—i tiá»m áº©n vá» báº£o máº­t mÃ  trong quÃ¡ trÃ¬nh kiá»ƒm thá»­ (testing) khÃ´ng phÃ¡t hiá»‡n ra, khÃ¡ch hÃ ng khÃ´ng há» biáº¿t vá» Ä‘iá»u Ä‘Ã³ vÃ  há» váº«n ráº¥t háº¡nh phÃºc (happy) vá»›i há»‡ thá»‘ng, cho Ä‘áº¿n má»™t ngÃ y Ä‘áº¹p trá»i vÃ o bá»—ng nhiÃªn lá»—i tiá»m áº©n Ä‘Ã³ bá»‹ khai thÃ¡c dáº«n Ä‘áº¿n há»‡ thá»‘ng giáº£m tÃ­nh sáºµn sÃ ng trong má»™t thá»i gian dÃ i hÆ¡n bÃ¬nh thÆ°á»ng cho Ä‘áº¿n khi lá»—i Ä‘Æ°á»£c â€œhot fixâ€ ngay láº­p tá»©c.&lt;/p&gt;
&lt;p&gt;Ká»³ thá»±c mÃ  nÃ³i má»™t há»‡ thá»‘ng cÃ³ Ä‘á»™ tin cáº­y cao (high reliability) gáº§n nhÆ° ráº¥t khÃ³ Ä‘áº¡t Ä‘Æ°á»£c trong thá»±c táº¿, mÃ  háº§u nhÆ° chÃºng ta chá»‰ hÆ°á»›ng tá»›i má»™t há»‡ thá»‘ng cÃ³ tÃ­nh sáºµn sÃ ng cao (high availability) mÃ  thÃ´i.&lt;/p&gt;
&lt;h3 id=&#34;4-hiá»‡u-suáº¥t-efficiency&#34;&gt;4. Hiá»‡u suáº¥t (Efficiency)&lt;/h3&gt;
&lt;p&gt;Hiá»‡u suáº¥t cá»§a má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ  kháº£ nÄƒng chá»‹u táº£i (high load) vÃ  thá»i gian pháº£n há»“i (low latency). CÃ³ nghÄ©a lÃ  má»™t há»‡ thá»‘ng cÃ³ kháº£ nÄƒng chá»‹u Ä‘Æ°á»£c nhiá»u request Ä‘á»“ng thá»i vá»›i Ä‘á»™ trá»… tháº¥p lÃ  má»™t há»‡ thá»‘ng cÃ³ hiá»‡u suáº¥t cao. ThÃ´ng thÆ°á»ng nÃ³ Ä‘Æ°á»£c Ä‘o Ä‘áº¿m báº±ng sá»‘ lÆ°á»£ng request nÃ³ nháº­n Ä‘Æ°á»£c vÃ  pháº£n há»“i trong má»™t khoáº£ng thá»i gian, thÆ°á»ng Ä‘Æ°á»£c tÃ­nh báº±ng giÃ¢y. VÃ­ dá»¥ má»™t há»‡ thá»‘ng eCommerce cÃ³ hiá»‡u suáº¥t lÃ  chá»‹u Ä‘Æ°á»£c 5k lÆ°á»£t Ä‘áº·t hÃ ng trÃªn má»™t giÃ¢y â€” 5k order / second, hay 500k lÆ°á»£t ngÆ°á»i cÃ¹ng truy cáº­p vÃ o cÃ¹ng má»™t thá»i Ä‘iá»ƒm.&lt;/p&gt;
&lt;h3 id=&#34;5-tÃ­nh-má»Ÿ-rá»™ng-vÃ -kháº£-nÄƒng-báº£o-trÃ¬-manageability&#34;&gt;5. TÃ­nh má»Ÿ rá»™ng vÃ  kháº£ nÄƒng báº£o trÃ¬ (Manageability)&lt;/h3&gt;
&lt;p&gt;Má»™t tÃ­nh cháº¥t quan trá»ng khÃ¡c cá»§a má»™t distributed system Ä‘Ã³ lÃ  kháº£ nÄƒng dá»… dÃ ng má»Ÿ rá»™ng vÃ  báº£o trÃ¬ cá»§a há»‡ thá»‘ng, nÃ³i cÃ¡ch khÃ¡c lÃ  tá»‘c Ä‘á»™ cá»§a há»‡ thá»‘ng khi thá»±c hiá»‡n &lt;strong&gt;sá»­a chá»¯a (repair)&lt;/strong&gt; hay &lt;strong&gt;báº£o trÃ¬ (maintain)&lt;/strong&gt; khi cáº§n, náº¿u thá»i gian trÃªn cÃ ng cao thÃ¬ tÃ­nh availability cÃ ng tháº¥p. Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘iá»u nÃ y, há»‡ thá»‘ng cáº§n pháº£i dá»… dÃ ng phÃ¡t hiá»‡n lá»—i hoáº·c lá»—i tiá»m tÃ ng náº¿u cÃ³, kháº£ nÄƒng hiá»ƒu nhanh Ä‘Æ°á»£c nguyÃªn nhÃ¢n lá»—i (root cause), dá»… dÃ ng thá»±c hiá»‡n cÃ¡c thay Ä‘á»•i cáº§n thiáº¿t Ä‘á»ƒ Ä‘iá»u chá»‰nh, hoáº·c Ä‘Æ¡n giáº£n chá»‰ lÃ  dá»… dÃ ng má»Ÿ rá»™ng khi cáº§n.&lt;/p&gt;
&lt;p&gt;Viá»‡c sá»›m phÃ¡t hiá»‡n cÅ©ng nhÆ° giáº£i quyáº¿t váº¥n Ä‘á» sá»›m sáº½ lÃ m giáº£m downtime tá»« Ä‘Ã³ tÄƒng tÃ­nh sáºµn sÃ ng cá»§a há»‡ thá»‘ng Ä‘i lÃªn. VÃ­ dá»¥ nhá»¯ng á»©ng dá»¥ng doanh nghiá»‡p (enterprise system) cÃ³ kháº£ nÄƒng tá»± phÃ¡t hiá»‡n lá»—i sau Ä‘Ã³ cÃ´ láº­p vÃ  bÃ¡o cÃ¡o nhanh cho ngÆ°á»i váº­n hÃ nh há»‡ thá»‘ng.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-2-cÃ¢n-báº±ng-táº£i-load-balancing&#34;&gt;Pháº§n 2: CÃ¢n báº±ng táº£i (Load balancing)&lt;/h2&gt;
&lt;p&gt;CÃ¢n báº±ng táº£i (load balancing â€” LB) lÃ  má»™t thÃ nh pháº§n ná»¯a cÅ©ng cá»±c ká»³ quan trá»ng trong báº¥t ká»³ má»™t distributed system nÃ o, nÃ³ giÃºp cho há»‡ thá»‘ng cÃ³ thá»ƒ phÃ¢n táº£i cÃ¡c request tá»›i Ä‘á»u cÃ¡c Server (Application hoáº·c Database), giÃºp cho há»‡ thá»‘ng cÃ³ tÃ­nh availability hÆ¡n. LB sáº½ liÃªn tá»¥c kiá»ƒm tra (health checks) nhá»¯ng tráº¡ng thÃ¡i cá»§a cÃ¡c server trong há»‡ thá»‘ng, náº¿u tráº¡ng thÃ¡i cá»§a server lÃ  khá»e máº¡nh (healthy) thÃ¬ nÃ³ sáº½ gá»­i quest tá»›i, cÃ²n náº¿u server khÃ´ng available hoáº·c khÃ´ng cÃ³ response tráº£ vá» (not healthy) thÃ¬ LB sáº½ khÃ´ng gá»­i request tá»›i server Ä‘Ã³ ná»¯a (Ä‘Ã¡ ra khá»i LB), vÃ  cho tá»›i khi server Ä‘Ã³ healthy trá»Ÿ láº¡i thÃ¬ LB sáº½ thÃªm láº¡i server Ä‘Ã³ vÃ o LB.&lt;/p&gt;
&lt;p&gt;CÃ³ ráº¥t nhiá»u thuáº­t toÃ¡n Ä‘á»ƒ LB Ä‘iá»u phá»‘i cÃ¡c request tá»›i cÃ¡c resource cá»§a mÃ¬nh nhÆ° thuáº­t toÃ¡n Ä‘Æ¡n giáº£n nháº¥t lÃ  thuáº­t toÃ¡n â€œRound Robinâ€. LÃ  thuáº­t toÃ¡n luÃ¢n chuyá»ƒn vÃ²ng, cÃ¡c mÃ¡y chá»§ sáº½ Ä‘Æ°á»£c xem ngang hÃ ng vÃ  sáº¯p xáº¿p theo má»™t vÃ²ng quay, cÃ¡c truy váº¥n dá»‹ch vá»¥ sáº½ láº§n lÆ°á»£t Ä‘Æ°á»£c gá»­i tá»›i cÃ¡c mÃ¡y chá»§ theo thá»© tá»± sáº¯p xáº¿p. NgoÃ i ra cÃ²n ráº¥t nhiá»u thuáº­t toÃ¡n phá»©c táº¡p khÃ¡c ná»¯a, tuy nhiÃªn trÃªn thá»±c táº¿ chÆ°a cÃ³ má»™t thuáº­t toÃ¡n LB nÃ o thá»±c sá»± hoÃ n háº£o, nÃ³ chá»‰ má»™t pháº§n nÃ o tÆ°Æ¡ng Ä‘á»‘i cháº¥p nháº­n Ä‘Æ°á»£c thÃ´i.&lt;/p&gt;
&lt;p&gt;Báº±ng cÃ¡ch cÃ¢n báº±ng táº£i cÃ¡c request tá»›i á»©ng dá»¥ng trÃªn nhiá»u server, LB sáº½ giáº£m táº£i cho tá»«ng server vÃ  ngÄƒn báº¥t ká»³ má»™t mÃ¡y chá»§ server nÃ o trá»Ÿ thÃ nh má»™t Ä‘iá»ƒm lá»—i duy nháº¥t (Single point of failure), do Ä‘Ã³ cáº£i thiá»‡n kháº£ nÄƒng Ä‘Ã¡p á»©ng vÃ  tÃ­nh sáºµn sÃ ng cá»§a á»©ng dá»¥ng. Nháº¥t lÃ  khi báº¡n scaling há»‡ thá»‘ng theo chiá»u ngang (horizontal scaling) nhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ pháº§n Scalability.
&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/lb.png&#34;
	width=&#34;1400&#34;
	height=&#34;666&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/lb_hu9cd9e4347c20c0b3ec8fca3005d12a61_153538_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/lb_hu9cd9e4347c20c0b3ec8fca3005d12a61_153538_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MÃ´ hÃ¬nh mÃ´ táº£ má»™t há»‡ thá»‘ng distributed system Ä‘Æ°á»£c horizontal scaling vÃ  sá»­ dá»¥ng LB Ä‘á»ƒ cÃ¢n báº±ng táº£i.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;210&#34;
		data-flex-basis=&#34;504px&#34;
	
&gt;
Äá»ƒ há»‡ thá»‘ng cÃ³ tÃ­nh high availability, thÃ¬ ta cÃ³ thá»ƒ Ã¡p dá»¥ng LB nhiá»u lá»›p (layer) cá»§a há»‡ thá»‘ng nhÆ° LB cho nhiá»u DB, LB cho Web-Server hay LB cho Application Server, vÃ­ dá»¥ nhÆ° mÃ´ hÃ¬nh dÆ°á»›i.
&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/lbm.png&#34;
	width=&#34;1400&#34;
	height=&#34;320&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/lbm_huff6fa6555bcb09ada6be5f8b8f70aa93_94341_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/lbm_huff6fa6555bcb09ada6be5f8b8f70aa93_94341_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MÃ´ hÃ¬nh Load Balancing nhiá»u táº§ng.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;437&#34;
		data-flex-basis=&#34;1050px&#34;
	
&gt;
Nhá»¯ng lá»£i Ã­ch cá»§a LB:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tráº£i nghiá»‡m ngÆ°á»i cá»§a ngÆ°á»i dÃ¹ng sáº½ tá»‘t hÆ¡n, vÃ  khÃ´ng bá»‹ giÃ¡n Ä‘oáº¡n bá»Ÿi báº¥t ká»³ má»™t sá»± cá»‘ nÃ o xáº£y ra trÃªn má»™t hoáº·c vÃ i server, ngoÃ i ra cÅ©ng tÄƒng tá»‘c Ä‘á»™ truy váº¥n cá»§a ngÆ°á»i dÃ¹ng nhá» nÄƒng lá»±c cá»§a nhiá»u server há»£p láº¡i.&lt;/li&gt;
&lt;li&gt;LB giÃºp cho quáº£n trá»‹ viÃªn ráº¥t dá»… scale up hoáº·c scale down há»‡ thá»‘ng mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n tráº£i nghiá»‡m cá»§a ngÆ°á»i dÃ¹ng.&lt;/li&gt;
&lt;li&gt;Má»™t LB thÃ´ng minh sáº½ giÃºp ngÆ°á»i quáº£n trá»‹ viÃªn xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c nhá»¯ng táº¯c ngháº½n hay quÃ¡ táº£i (traffic bottlenecks) trÆ°á»›c khi nÃ³ xáº£y ra, Ä‘á»ƒ ngÆ°á»i quáº£n trá»‹ cÃ³ thá»ƒ hÃ nh Ä‘á»™ng ká»‹p thá»i, nhÆ° scale up há»‡ thá»‘ng.&lt;/li&gt;
&lt;li&gt;LB giÃºp ngÆ°á»i quáº£n trá»‹ viÃªn (devops/system admin) Ä‘á»¡ cÄƒng tháº³ng hÆ¡n vÃ¬ thay vÃ¬ chá»‰ má»™t Server duy nháº¥t thá»±c hiá»‡n nhiá»u cÃ´ng viá»‡c thÃ¬ ta sáº½ chia nhiá»u cÃ´ng viá»‡c nhá» hÆ¡n cho nhiá»u server, tá»« Ä‘Ã³ viá»‡c cáº£ há»‡ thá»‘ng fail sáº½ Ã­t xáº£y ra hÆ¡n.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tuy nhiÃªn LB cÃ³ thá»ƒ trá»Ÿ thÃ nh má»™t single point of failure, náº¿u nÃ³ bá»‹ quÃ¡ táº£i hay lá»—i pháº§n cá»©ng/má»m khiáº¿n LB sá»¥p Ä‘á»• dáº«n Ä‘áº¿n cáº£ há»‡ thá»‘ng sá»¥p Ä‘á»• theo. Äá»ƒ kháº¯c phá»¥c Ä‘iá»u nÃ y tá»‘t nháº¥t hay cÃ³ Ã­t nháº¥t 2 LB káº¿t há»£p vá»›i nhau thÃ nh má»™t cá»¥m LB cháº¡y dÆ°á»›i dáº¡ng active-standby tá»©c lÃ  luÃ´n cÃ³ má»™t LB backup cho má»™t LB cÃ²n láº¡i Ä‘ang cháº¡y Ä‘á»ƒ phá»¥c vá»¥ cho trÆ°á»ng há»£p LB chÃ­nh bá»‹ há»ng thÃ¬ LB cÃ²n láº¡i sáº½ Ä‘áº£m nhiá»‡m.
&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/lbb.png&#34;
	width=&#34;1400&#34;
	height=&#34;644&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/lbb_hu145caef88a6d3991460a0f87df067441_173020_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/lbb_hu145caef88a6d3991460a0f87df067441_173020_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;MÃ´ hÃ¬nh cá»¥m LB backup cho nhau.&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;217&#34;
		data-flex-basis=&#34;521px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-3-bá»™-Ä‘á»‡m--caching&#34;&gt;Pháº§n 3: Bá»™ Ä‘á»‡m â€” Caching&lt;/h2&gt;
&lt;p&gt;Load balancing giÃºp há»‡ thá»‘ng má»Ÿ rá»™ng theo chiá»u ngang báº±ng cÃ¡ch ngÃ y cÃ ng tÄƒng sá»‘ lÆ°á»£ng cÃ¡c mÃ¡y chá»§, nhÆ°ng Caching láº¡i lÃ  cÃ¡ch Ä‘á»ƒ sá»­ dá»¥ng tÃ i nguyÃªn (resource) hiá»‡u quáº£ hÆ¡n tá»« Ä‘Ã³ resource cáº§n cung cáº¥p giáº£m Ä‘i, nháº±m tiáº¿t kiá»‡m resource vÃ  giáº£m chi phÃ­ cá»§a há»‡ thá»‘ng.&lt;/p&gt;
&lt;p&gt;Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y, há»‡ thá»‘ng sáº½ cung cáº¥p má»™t vÃ¹ng nhá»› Ä‘á»‡m (cache) Ä‘á»ƒ chá»©a nhá»¯ng dá»¯ liá»‡u Ä‘Æ°á»£c request nhiá»u láº§n mÃ  khÃ´ng thÆ°á»ng xuyÃªn thay Ä‘á»•i vÃ o Ä‘Ã³, tá»« Ä‘Ã³ há»‡ thá»‘ng sáº½ láº¥y dá»¯ liá»‡u tá»« bá»™ nhá»› cache mÃ  khÃ´ng truy cáº­p vÃ o bá»™ nhá»› chÃ­nh. Äiá»u nÃ y giÃºp bá»™ nhá»› chÃ­nh sáº½ Ä‘Æ°á»£c giáº£m táº£i Ä‘i tá»« Ä‘Ã³ nÄƒng lá»±c cá»§a nÃ³ tÄƒng lÃªn.&lt;/p&gt;
&lt;p&gt;Bá»™ nhá»› cache Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t rá»™ng rÃ£i trong má»i thÃ nh pháº§n cá»§a há»‡ thá»‘ng nhÆ° trong pháº§n cá»©ng (hardware) nhÆ° RAM/CPU Cache, há»‡ Ä‘iá»u hÃ nh (operating systems), trÃ¬nh duyá»‡t web (web browsers), web applications v.vâ€¦ Bá»™ nhá»› cache giá»‘ng nhÆ° má»™t bá»™ nhá»› ngáº¯n háº¡n (short- term memory) nÃ³ cÃ³ giá»›i háº¡n vá» kÃ­ch cá»¡, nhÆ°ng thÆ°á»ng nhanh hÆ¡n ráº¥t nhiá»u láº§n bá»™ nhá»› chÃ­nh&lt;/p&gt;
&lt;p&gt;Vá» kiáº¿n trÃºc pháº§n má»m thÃ¬ Cache cÃ³ thá»ƒ tá»“n táº¡i á»Ÿ háº§u háº¿t cÃ¡c thÃ nh pháº§n, nhÆ°ng chá»§ yáº¿u nÃ³ tá»“n táº¡i á»Ÿ pháº§n thao tÃ¡c vá»›i dá»¯ liá»‡u nhÆ° Database Layer, giÃºp tráº£ vá» dá»¯ liá»‡u nhanh hÆ¡n mÃ  khÃ´ng cáº§n tá»‘n chi phÃ­ Ä‘á»ƒ truy cáº­p vÃ o Database, hay á»Ÿ pháº§n Front-end Ä‘á»ƒ Cache nhá»¯ng resource tÄ©nh nhÆ° js, css, image file báº±ng cÃ¡ch dÃ¹ng CDN.&lt;/p&gt;
&lt;h3 id=&#34;bá»™-Ä‘á»‡m-táº§ng-backendapplication-server-cache&#34;&gt;Bá»™ Ä‘á»‡m táº§ng Backend(Application Server Cache)&lt;/h3&gt;
&lt;p&gt;á» táº§ng backend Cache Ä‘Æ°á»£c Ã¡p dá»¥ng nhÆ° má»™t báº£n sao hoáº·c má»™t pháº§n cá»§a DB/Storage, má»—i láº§n á»©ng dá»¥ng request dá»¯ liá»‡u tá»« DB/Storage nÃ³ sáº½ tÃ¬m trong bá»™ nhá»› Cache, náº¿u cÃ³ á»©ng sáº½ tráº£ vá» dá»¯ liá»‡u tá»©c thÃ¬ mÃ  khÃ´ng tá»‘n tÃ i nguyÃªn Ä‘á»ƒ query xuá»‘ng DB/Storage. Tuy nhiÃªn nÃ³ chá»‰ cÃ³ tÃ¡c dá»¥ng vá»›i nhá»¯ng dá»¯ liá»‡u Ä‘Æ°á»£c truy cáº­p nhiá»u láº§n nhÆ°ng Ã­t Ä‘Æ°á»£c thay Ä‘á»•i, vÃ­ dá»¥ thÃ´ng tin cÃ¡ nhÃ¢n cá»§a ngÆ°á»i dÃ¹ng (tÃªn, quÃª quÃ¡n/quá»‘c tá»‹ch, ngÃ y thÃ¡ng nÄƒm sinh, Ä‘á»‹a chá»‰, sá»‘ Ä‘iá»‡n thoáº¡iâ€¦).
Náº¿u ta cÃ³ nhu cáº§u gia tÄƒng kháº£ nÄƒng chá»‹u táº£i bá»™ nhá»› Cache theo mÃ´ hÃ¬nh horizontal scaling, khi Ä‘Ã³ ta sáº½ cÃ³ thÃªm nhiá»u node vÃ  má»—i node sáº½ chá»©a cÃ¡c dá»¯ liá»‡u cá»§a riÃªng nÃ³. Tuy nhiÃªn Ä‘iá»u nÃ y sáº½ dáº«n Ä‘áº¿n sá»‘ lÆ°á»£ng â€œcache missâ€ tÄƒng cao vÃ¬ LB sáº½ tÃ¹y chá»n ngáº«u nhiÃªn 1 node má»—i request tá»« Ä‘Ã³ má»™t request sáº½ tá»›i nhiá»u â€œcache nodeâ€ khÃ¡c nhau. VÃ  Ä‘á»ƒ giáº£i quyáº¿t Ä‘iá»u nÃ y ta cÃ³ hai sá»± lá»±a chá»n lÃ  sá»­ dá»¥ng duy nháº¥t má»™t nhá»› Cache lá»›n, hoáº·c phÃ¢n chia dá»¯ liá»‡u cache trÃªn cá»¥m server vá»›i Consistent Hashing&lt;/p&gt;
&lt;h3 id=&#34;bá»™-Ä‘á»‡m-táº§ng-frontend--content-distribution-network-cdn&#34;&gt;Bá»™ Ä‘á»‡m táº§ng Frontend â€” Content Distribution Network (CDN)&lt;/h3&gt;
&lt;p&gt;CDN Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ caching nhá»¯ng resource tÄ©nh trÃªn cÃ¡c website nhÆ° js, css, imagesâ€¦ (static media) máº¡ng lÆ°á»›i CDN sáº½ Ä‘Æ°á»£c Ä‘áº·t á»Ÿ nhiá»u vÃ¹ng Ä‘á»‹a lÃ½ khÃ¡c nhau vÃ  dá»±a theo Ä‘á»‹a chá»‰ cá»§a tá»«ng request mÃ  cÃ¡c static media sáº½ Ä‘Æ°á»£c tráº£ vá» tá»« trÃªn cÃ¡c mÃ¡y chá»§ CDN á»Ÿ gáº§n nÃ³ nháº¥t, náº¿u khÃ´ng cÃ³ trÃªn táº¥t cáº£ cÃ¡c mÃ¡y chá»§ CDN thÃ¬ nÃ³ sáº½ láº¥y dá»¯ liá»‡u Ä‘Ã³ tá»« Back-end Server Ä‘á»ƒ tráº£ vá» vÃ  Ä‘á»“ng thá»i cached dá»¯ liá»‡u vá»«a láº¥y lÃªn CDN. Nhá» váº­y ta cÃ³ thá»ƒ tÄƒng tá»‘c kháº£ nÄƒng chá»‹u táº£i cÅ©ng nhÆ° tá»‘c Ä‘á»™ cá»§a website.
Náº¿u há»‡ thá»‘ng cá»§a báº¡n khÃ´ng Ä‘á»§ lá»›n Ä‘á»ƒ xÃ¢y dá»±ng má»™t CDN riÃªng cá»§a mÃ¬nh thÃ¬ báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ CDN sáºµn cÃ³ nhÆ° nhÆ° Cloudflare, BootstrapCDN hay Amazon CloudFront v.vâ€¦&lt;/p&gt;
&lt;h3 id=&#34;cache-invalidation&#34;&gt;Cache Invalidation&lt;/h3&gt;
&lt;p&gt;Vá» báº£n cháº¥t Cache lÃ  má»™t báº£n sao cá»§a bá»™ nhá»› chÃ­nh cÃ³ thá»ƒ lÃ  DB hay cÃ¡c dáº¡ng Storage khÃ¡c, vÃ­ dá»¥ dá»¯ liá»‡u tá»« DB Ä‘Æ°á»£c update, thÃ¬ cache pháº£i Ä‘Æ°á»£c update theo (invalidated cache).Cho nÃªn viá»‡c Ä‘á»“ng bá»™ dá»¯ liá»‡u giá»¯a bá»™ nhá»› chÃ­nh vÃ  Cache Ä‘á»ƒ giáº£i quyáº¿t tÃ­nh consistency cá»§a há»‡ thá»‘ng lÃ  má»™t váº¥n Ä‘á» pháº£i giáº£i quyáº¿t.&lt;/p&gt;
&lt;p&gt;Ta cÃ³ 3 chiáº¿n thuáº­t Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» vá» cache invalidation lÃ :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Write-through cache
LÃ  chiáº¿n thuáº­t khi cÃ³ dá»¯ liá»‡u cáº§n thay Ä‘á»•i, há»‡ thá»‘ng sáº½ ghi dá»¯ liá»‡u cáº£ vÃ  Cache hoáº·c DB Ä‘á»“ng thá»i. Viá»‡c nÃ y sáº½ Ä‘áº£m báº£o Ä‘Æ°á»£c viá»‡c dá»¯ liá»‡u sáº½ luÃ´n luÃ´n consistency bá»Ÿi vÃ¬ process sáº½ khÃ´ng thÃ nh cÃ´ng vÃ  pháº£i thá»±c hiá»‡n láº¡i náº¿u má»™t trong hai thao tÃ¡c ghi vÃ o Cache hoáº·c ghi vÃ o DB bá»‹ lá»—i. Tuy nhiÃªn Ä‘iá»ƒm yáº¿u cá»§a chiáº¿n thuáº­t nÃ y lÃ  Ä‘á»™ trá»… cao trong viá»‡c ghi dá»¯ liá»‡u, vÃ¬ Ä‘Ã²i há»i cáº£ hai thao tÃ¡c ghi tá»« DB vÃ  Cache pháº£i Ä‘Æ°á»£c hoÃ n thÃ nh.&lt;/li&gt;
&lt;li&gt;Write-around cache
Chiáº¿n thuáº­t nÃ y khi cÃ³ dá»¯ liá»‡u cáº§n thay Ä‘á»•i, sáº½ chá»‰ ghi vÃ o DB mÃ  bá» qua Cache. Äiá»u nÃ y sáº½ cÃ³ thá»ƒ giáº£m viá»‡c Cache bá»‹ trÃ n ngáº­p cÃ¡c thao tÃ¡c ghi mÃ  ráº¥t cÃ³ thá»ƒ cÃ¡c dá»¯ liá»‡u nÃ y sáº½ khÃ´ng bao giá» Ä‘Æ°á»£c sá»­ dá»¥ng. Tuy nhiÃªn viá»‡c nÃ y sáº½ gÃ¢y ra trÆ°á»ng há»£p â€œcache missâ€ náº¿u client gá»­i má»™t request Ä‘Æ°á»£c tá»« má»™t báº£n ghi má»›i Ä‘Æ°á»£c ghi vÃ o, nÃ³ sáº½ gÃ¢y Ä‘á»™ trá»… khi Ä‘á»c vÃ¬ lÃºc nÃ y dá»¯ liá»‡u pháº£i Ä‘á»c tá»« DB sau Ä‘Ã³ má»›i Ä‘Æ°á»£c ghi ngÆ°á»£c láº¡i vÃ o Cache vÃ  tráº£ vá» cho Client. VÃ  chiáº¿n thuáº­t nÃ y chá»‰ phÃ¹ há»£p vá»›i nhá»¯ng dá»¯ liá»‡u Ã­t thay Ä‘á»•i vÃ  há»‡ thá»‘ng cháº¥p nháº­n Ä‘á»™ trá»… cá»§a dá»¯ liá»‡u, vÃ¬ dá»¯ liá»‡u cÃ³ thá»ƒ khÃ´ng consistency trong lÃºc Cache chÆ°a háº¿t háº¡n (expired) mÃ  cÃ³ dá»¯ liá»‡u má»›i Ä‘Ã£ Ä‘Æ°á»£c update.&lt;/li&gt;
&lt;li&gt;Write-back cache
LÃ  khi cÃ³ dá»¯ liá»‡u cáº§n thay Ä‘á»•i, sáº½ chá»‰ ghi vÃ o bá»™ nhá»› Cache mÃ  bá» qua DB, dá»¯ liá»‡u chá»‰ ghi vÃ o DB sau má»™t khoáº£ng thá»i gian (interval) hoáº·c vá»›i Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³. Äiá»u nÃ y sáº½ cÃ³ lá»£i Ã­ch táº¡o ra cho há»‡ thá»‘ng Ä‘á»™ trá»… tháº¥p (low latency) vÃ  lÆ°u lÆ°á»£ng cao (high throughput) vá»›i nhá»¯ng há»‡ thá»‘ng chuyÃªn ghi (write-intensive). Tuy nhiÃªn chiáº¿n thuáº­t nÃ y cÃ³ Ä‘á»™ rá»§i ro cao vá» máº¥t mÃ¡t dá»¯ liá»‡u, bá»Ÿi vÃ¬ trÆ°á»›c khi dá»¯ liá»‡u Ä‘Æ°á»£c ghi vÃ o DB thÃ¬ dá»¯ liá»‡u cá»§a chÃºng ta chá»‰ náº±m á»Ÿ trong Cache, báº¥t ká»³ má»™t sá»± cá»‘ nÃ o vá» Cache Ä‘á»u cÃ³ thá»ƒ gÃ¢y máº¥t mÃ¡t dá»¯ liá»‡u.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;cache-eviction-policies&#34;&gt;Cache eviction policies&lt;/h3&gt;
&lt;p&gt;NgoÃ i ra ta cÅ©ng cÃ³ cÃ¡c cÃ¡ch chiáº¿n thuáº­t xÃ³a dá»¯ liá»‡u khÃ´ng cÃ²n cáº§n thiáº¿t tá»« Cache.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First In First Out (FIFO): CÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c ghi vÃ o Cache trÆ°á»›c thÃ¬ sáº½ Ä‘Æ°á»£c Æ°u tiÃªn xÃ³a Ä‘i trÆ°á»›c mÃ  khÃ´ng quan tÃ¢m tá»›i táº§n suáº¥t hay sá»‘ lÆ°á»£ng truy cáº­p cá»§a nÃ³.&lt;/li&gt;
&lt;li&gt;Last In First Out (LIFO): Sáº½ Æ°u tiÃªn xÃ³a nhá»¯ng dá»¯ liá»‡u Ä‘Æ°á»£c ghi cÅ© nháº¥t mÃ  khÃ´ng quan tÃ¢m tá»›i táº§n suáº¥t hay sá»‘ lÆ°á»£ng truy cáº­p cá»§a nÃ³.&lt;/li&gt;
&lt;li&gt;Least Recently Used (LRU): Sáº½ xÃ³a nhá»¯ng dá»¯ liá»‡u Ã­t Ä‘Æ°á»£c truy cáº­p gáº§n Ä‘Ã¢y trÆ°á»›c tiÃªn.&lt;/li&gt;
&lt;li&gt;Most Recently Used (MRU): Sáº½ xÃ³a nhá»¯ng dá»¯ liá»‡u Ä‘Æ°á»£c truy cáº­p thÆ°á»ng xuyÃªn gáº§n Ä‘Ã¢y nháº¥t.&lt;/li&gt;
&lt;li&gt;Least Frequently Used (LFU): Sáº½ xÃ³a nhá»¯ng dá»¯ liá»‡u Ã­t Ä‘Æ°á»£c truy cáº­p nháº¥t.&lt;/li&gt;
&lt;li&gt;RR: Sáº½ trá»n ra má»™t dá»¯ liá»‡u báº¥t ká»³ trÃªn Cache Ä‘á»ƒ thá»±c hiá»‡n thao tÃ¡c xÃ³a.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ThÃ´ng thÆ°á»ng thÃ¬ há»‡ thá»‘ng sáº½ Ä‘Ã¡nh dáº¥u thá»i Ä‘iá»ƒm háº¿t háº¡n (expire time) cá»§a dá»¯ liá»‡u, náº¿u quÃ¡ thá»i háº¡n thÃ¬ Cache sáº½ bá»‹ xÃ³a Ä‘i. TÃ­nh toÃ¡n expire time cá»§a Cache cÅ©ng lÃ  má»™t bÃ i toÃ¡n khÃ¡ Ä‘au Ä‘áº§u tÃ¹y vÃ o logic cá»§a há»‡ thá»‘ng Ä‘ang phÃ¡t triá»ƒn.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-4-phÃ¢n-chia-dá»¯-liá»‡u--shardingdata-partitioning&#34;&gt;Pháº§n 4: PhÃ¢n chia dá»¯ liá»‡u â€” Sharding/Data Partitioning&lt;/h2&gt;
&lt;p&gt;PhÃ¢n chia dá»¯ liá»‡u (Sharding) lÃ  má»™t giáº£i phÃ¡p chia nhá» má»™t Database lá»›n thÃ nh nhiá»u Database nhá», ta cÃ³ thá»ƒ phÃ¢n tÃ¡ch tá»«ng báº£ng hoáº·c cáº£ má»™t DB ra nhiá»u pháº§n nhá» Ä‘áº·t á»Ÿ nhiá»u mÃ¡y chá»§ (server) khÃ¡c nhau. Äiá»u nÃ y sáº½ giÃºp cho há»‡ thá»‘ng DB cá»§a chÃºng ta Ä‘áº¡t Ä‘Æ°á»£c cÃ¡c tÃ­nh cháº¥t kháº£ nÄƒng báº£o trÃ¬ (manageability), hiá»‡u xuáº¥t (performance), tÃ­nh sáºµn sÃ ng (availability), vÃ  cÃ¢n báº±ng táº£i (load balancing) cá»§a á»©ng dá»¥ng. VÃ  giáº£i phÃ¡p nÃ y cÅ©ng giáº£m chi phÃ­ cÅ©ng nhÆ° tÃ­nh má»Ÿ rá»™ng (scalability) Ä‘á»ƒ scale up DB báº±ng cÃ¡ch dÃ¹ng nhiá»u server nhá» gá»™p láº¡i hÆ¡n lÃ  nÃ¢ng cáº¥p má»™t server lá»›n.
&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/ds1.png&#34;
	width=&#34;401&#34;
	height=&#34;188&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/ds1_hu609feb72800955956481269af14dd6c4_10013_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/ds1_hu609feb72800955956481269af14dd6c4_10013_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;mÃ´ hÃ¬nh&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;213&#34;
		data-flex-basis=&#34;511px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;nhá»¯ng-cÃ¡ch-thá»©c-phÃ¢n-chia-dá»¯-liá»‡u&#34;&gt;Nhá»¯ng cÃ¡ch thá»©c phÃ¢n chia dá»¯ liá»‡u&lt;/h3&gt;
&lt;p&gt;Ta cÃ³ 3 cÃ¡ch thá»©c Sharding dá»¯ liá»‡u nhÆ° sau:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Horizontal sharding
LÃ  cÃ¡ch chia cÃ¹ng dá»¯ liá»‡u cá»§a cÃ¹ng má»™t báº£ng (table) ra nhiá»u DB khÃ¡c nhau. VÃ­ dá»¥ ta cÃ³ báº£ng dá»¯ liá»‡u thÃ´ng tin vá» ngÆ°á»i dÃ¹ng, ta sáº½ dá»±a trÃªn location cá»§a ngÆ°á»i dÃ¹ng Ä‘á»ƒ quyáº¿t Ä‘á»‹nh nÃ³ náº±m á»Ÿ DB nÃ o, vÃ­ dá»¥ ngÆ°á»i dÃ¹ng á»Ÿ SÃ i GÃ²n thÃ¬ sáº½ chá»© á»Ÿ DB_SG, thÃ´ng tin ngÆ°á»i dÃ¹ng á»Ÿ BiÃªn HÃ²a sáº½ náº±m á»Ÿ DB_BH hay thÃ´ng tin ngÆ°á»i dÃ¹ng á»Ÿ VÄ©nh Long sáº½ náº±m á»Ÿ DB_VL.
Giáº£i phÃ¡p nÃ y cÃ³ má»™t váº¥n Ä‘á» lÃ  ta pháº£i chá»n nÆ¡i dá»¯ liá»‡u Sharding ráº¥t cáº©n tháº­n Ä‘á»ƒ khÃ´ng gÃ¢y máº¥t cÃ¢n báº±ng (unbalanced) giá»¯a cÃ¡c DB dáº«n tá»›i ráº¥t cÃ³ thá»ƒ cÃ³ má»™t vÃ i Server sáº½ thÃ nh Ä‘iá»ƒm nÃ³ng (hot spot), vÃ­ dá»¥ ngÆ°á»i dÃ¹ng á»Ÿ SÃ i GÃ²n cháº¯c cháº¯n lÃ  Ä‘Ã´ng hÆ¡n ráº¥t nhiá»u láº§n ngÆ°á»i dÃ¹ng á»Ÿ BiÃªn HÃ²a hay VÄ©nh Long.&lt;/li&gt;
&lt;li&gt;Vertical sharing
LÃ  cÃ¡ch sharding dá»¯ liá»‡u dá»±a trÃªn tÃ­nh nÄƒng (feature) cá»§a há»‡ thá»‘ng. VÃ­ dá»¥ ta thiáº¿t káº¿ má»™t há»‡ thá»‘ng chia sáº» áº£nh giá»‘ng Instagram, ta sáº½ lÆ°u thÃ´ng tin cá»§a User vÃ o DB_Users, lÆ°u thÃ´ng tin áº£nh há» up lÃªn trÃªn má»™t DB khÃ¡c lÃ  DB_Photos vÃ  thÃ´ng tin danh sÃ¡ch nhá»¯ng ngÆ°á»i há» follow á»Ÿ má»™t DB thá»© 3 lÃ  DB_Follow.
CÃ¡ch lÃ m nÃ y ráº¥t lÃ  rÃµ rÃ ng dá»… Ä‘á»ƒ implement vÃ  khÃ´ng lÃ m áº£nh hÆ°á»Ÿng lá»›n Ä‘áº¿n á»©ng dá»¥ng, nhÆ°ng khi há»‡ thá»‘ng lá»›n dáº§n lÃªn thÃ¬ dá»¯ liá»‡u cÅ©ng lá»›n dáº§n theo, do Ä‘Ã³ ta láº¡i pháº£i thá»±c hiá»‡n sharding tiáº¿p nhá»¯ng DB trÃªn tá»«ng feature (bá»Ÿi vÃ¬ 1 DB khÃ´ng thá»ƒ sá»­ lÃ½ 10 tá»· bá»©c áº£nh cá»§a 140 triá»‡u user Ä‘Æ°á»£c).&lt;/li&gt;
&lt;li&gt;Directory Based sharding
CÃ¡ch nÃ y sáº½ yÃªu cáº§u ta pháº£i thiáº¿t káº¿ má»™t â€œlookup serviceâ€ cÃ³ tÃ¡c dá»¥ng quyáº¿t Ä‘á»‹nh Ã¡nh xáº¡ (mapping) dá»¯ liá»‡u sáº½ náº±m á»Ÿ Ä‘Ã¢u, DB nÃ o. Má»—i khi cÃ³ request ghi hoáº·c Ä‘á»c sáº½ thÃ´ng qua lookup service Ä‘á»ƒ mapping vá»‹ trÃ­ sáº½ Ä‘á»c vÃ  ghi. Khi business má»Ÿ rá»™ng sá»‘ lÆ°á»£ng server cÃ³ thá»ƒ tÄƒng lÃªn mÃ  khÃ´ng áº£nh hÆ°á»Ÿng hay Ä‘Ã²i há»i á»©ng dá»¥ng pháº£i thay Ä‘á»•i theo.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/ds2.png&#34;
	width=&#34;1400&#34;
	height=&#34;1180&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/ds2_hu5c3fc298dadb06c6ff8452e525425c94_123932_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-basic/ds2_hu5c3fc298dadb06c6ff8452e525425c94_123932_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;vÃ­ dá»¥&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;118&#34;
		data-flex-basis=&#34;284px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;nhá»¯ng-tiÃªu-chÃ­-Ä‘á»ƒ-phÃ¢n-vÃ¹ng-dá»¯-liá»‡u&#34;&gt;Nhá»¯ng tiÃªu chÃ­ Ä‘á»ƒ phÃ¢n vÃ¹ng dá»¯ liá»‡u&lt;/h3&gt;
&lt;p&gt;BÃªn trÃªn ta Ä‘Ã£ tÃ¬m hiá»ƒu vÃ  cÃ¡c method Ä‘á»ƒ sharding dá»¯ liá»‡u, giá» ta hÃ£y tÃ¬m kiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡c tiÃªu chÃ­ Ä‘á»ƒ phÃ¢n vÃ¹ng dá»¯ liá»‡u.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PhÃ¢n vÃ¹ng theo key hoáº·c hash
Há»‡ thá»‘ng sáº½ Ã¡p dá»¥ng cÃ¡c hÃ m bÄƒm (hash function) cho má»™t hoáº·c nhiá»u cÃ¡c key chÃ­nh trong dá»¯ liá»‡u (thÆ°á»ng lÃ  ID) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh ra má»™t con sá»‘ cá»§a phÃ¢n vÃ¹ng nÃ³ Ä‘ang náº±m. VÃ­ dá»¥: náº¿u há»‡ thá»‘ng cÃ³ 100 mÃ¡y chá»§ DB vÃ  ID cá»§a báº£n ghi sáº½ tá»± tÄƒng lÃªn má»—i láº§n má»™t báº£n ghi má»›i Ä‘Æ°á»£c chÃ¨n. Trong vÃ­ dá»¥ nÃ y, hÃ m bÄƒm cÃ³ thá»ƒ lÃ  â€˜ID% 100, tá»« Ä‘Ã³ ta cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ cá»§a dá»¯ liá»‡u. CÃ¡ch tiáº¿p cáº­n nÃ y cáº§n Ä‘áº£m báº£o phÃ¢n bá»• dá»¯ liá»‡u thá»‘ng nháº¥t giá»¯a cÃ¡c mÃ¡y chá»§. NhÆ°ng cÃ¡ch lÃ m nÃ y cÃ³ má»™t Ä‘iá»ƒm yáº¿u lÃ  má»—i khi ta thay Ä‘á»•i sá»‘ lÆ°á»£ng Server tÄƒng hoáº·c giáº£m thÃ¬ hÃ m bÄƒm cÅ©ng sáº½ pháº£i thay Ä‘á»•i theo vÃ  sáº½ xuáº¥t hiá»‡n hiá»‡n tÆ°á»£ng xÃ¡o trá»™n táº­p dá»¯ liá»‡u trÃªn má»—i server, vÃ  Ä‘Ã²i há»i ta pháº£i phÃ¢n phá»‘i láº¡i dá»¯ liá»‡u vÃ  xuáº¥t hiá»‡n Ä‘á»™ trá»… dá»¯ liá»‡u. CÃ³ má»™t cÃ¡ch giáº£i quyáº¿t váº¥n Ä‘á» nÃ y lÃ  sá»­ dá»¥ng Consistent Hashing (hÃ m bÄƒm nháº¥t quÃ¡n).&lt;/li&gt;
&lt;li&gt;PhÃ¢n vÃ¹ng theo danh sÃ¡ch (list)
CÃ¡ch phÃ¢n vÃ¹ng sáº½ Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh gÃ¡n má»™t danh sÃ¡ch cÃ¡c giÃ¡ trá»‹ ngay tá»« Ä‘áº§u, tá»« Ä‘Ã³ má»—i láº§n ghi má»™t báº£n ghi má»›i ta sáº½ tÃ¬m ra giÃ¡ trá»‹ cá»§a báº£n ghi náº±m á»Ÿ phÃ¢n vÃ¹ng nÃ o vÃ  ghi vÃ o Ä‘Ã³. VÃ­ dá»¥ ta sáº½ quyáº¿t Ä‘á»‹nh nhÃ³m táº¥t cáº£ cÃ¡c ngÆ°á»i dÃ¹ng á»Ÿ Ai-len, Na Uy, Thá»¥y Äiá»ƒn, Pháº§n Lan vÃ  Äan Máº¡ch vÃ  má»™t phÃ¢n vÃ¹ng cÃ³ tÃªn lÃ  Nordic (Báº¯c Ã‚u).
PhÃ¢n vÃ¹ng vÃ²ng trÃ²n (round-robin)
CÃ¡ch phÃ¢n vÃ¹ng nÃ y ráº¥t Ä‘Æ¡n giáº£n lÃ  má»—i láº§n cÃ³ thao tÃ¡c ghi ta sáº½ ghi vÃ²ng trÃ²n quanh cÃ¡c phÃ¢n vÃ¹ng cÃ³ sáºµn. CÃ¡ch lÃ m nÃ y Ä‘Æ¡n giáº£n nhÆ°ng ráº¥t khÃ³ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh dá»¯ liá»‡u nÃ o á»Ÿ Ä‘Ã¢u láº¥y ra khi cáº§n.&lt;/li&gt;
&lt;li&gt;PhÃ¢n vÃ¹ng tá»•ng há»£p
LÃ  cÃ¡ch tá»•ng há»£p cÃ¡c giáº£i phÃ¡p trÃªn thÃ nh má»™t giáº£i phÃ¡p má»›i. VÃ­ dá»¥ ta cÃ³ thá»ƒ Ã¡p dá»¥ng phÃ¢n vÃ¹ng theo Key/Hash vÃ  sau Ä‘Ã³ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c key rá»“i ta sáº½ Ã¡p dá»¥ng tiáº¿p phÃ¢n vÃ¹ng theo danh sÃ¡ch Ä‘á»ƒ chá»©a key sau khi hash vÃ o má»™t danh sÃ¡ch cá»¥ thá»ƒ nÃ o Ä‘Ã³. Consistent Hashing cÃ³ thá»ƒ Ä‘Æ°á»£c coi lÃ  cÃ¡ch phÃ¢n vÃ¹ng tá»•ng há»£p.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;cÃ¡c-váº¥n-Ä‘á»-khi-sharding-dá»¯-liá»‡u&#34;&gt;CÃ¡c váº¥n Ä‘á» khi Sharding dá»¯ liá»‡u&lt;/h3&gt;
&lt;p&gt;VÃ¬ viá»‡c dá»¯ liá»‡u sáº½ bá»‹ phÃ¢n tÃ¡n Ä‘i nhiá»u Server khÃ¡c nhau do váº­y sáº½ phÃ¡t sinh má»™t vÃ i váº¥n Ä‘á» khi sharding dá»¯ liá»‡u nhÆ° sau:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Joins and De-normalization
Bá»Ÿi vÃ¬ viá»‡c dá»¯ liá»‡u á»Ÿ cÃ¡c báº£ng Ä‘Æ°á»£c phÃ¢n bá»‘ vÃ  tráº£i rá»™ng Ä‘i nhiá»u DB/Server khÃ¡c nhau nÃªn viá»‡c join báº£ng dá»¯ liá»‡u lÃ  Ä‘iá»u ráº¥t khÃ³ khÄƒn vÃ  cÅ©ng khÃ´ng Ä‘em láº¡i hiá»‡u xuáº¥t bá»Ÿi vÃ¬ viá»‡c dá»¯ liá»‡u pháº£i Ä‘Æ°á»£c queries tá»« nhiá»u mÃ¡y chá»§ khÃ¡c nhau. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y ta cÃ³ thá»ƒ thiáº¿t káº¿ dá»¯ liá»‡u dáº¡ng non-relationship DB hay cÃ²n gá»i lÃ  NoSQL, giá»‘ng nhÆ° MongoDB hay Cassandra hai há»‡ NoSQL ráº¥t ná»•i tiáº¿ng vÃ  há»— trá»£ Sharding vÃ´ cÃ¹ng tá»‘t. Tuy nhiÃªn viá»‡c nÃ y ta pháº£i cháº¥p nháº­n rá»§i ro viá»‡c khÃ´ng nháº¥t quÃ¡n dá»¯ liá»‡u (inconsistency)&lt;/li&gt;
&lt;li&gt;Referential integrity
CÅ©ng vÃ¬ lÃ½ do trÃªn vá» viá»‡c truy váº¥n chÃ©o dá»¯ liá»‡u giá»¯a cÃ¡c DB náº±m trÃªn cÃ¡c mÃ¡y chá»§ khÃ¡c nhau lÃ  báº¥t kháº£ thi, do váº­y viá»‡c rÃ ng buá»™c khÃ³a ngoáº¡i Ä‘á»ƒ báº£o Ä‘áº£m sá»± toÃ n váº¹n dá»¯ liá»‡u cÅ©ng lÃ  má»™t Ä‘iá»u vÃ´ cÃ¹ng khÃ³ khÄƒn. Háº§u háº¿t RDBMS khÃ´ng há»— trá»£ cÃ¡c rÃ ng buá»™c khÃ³a ngoáº¡i trÃªn cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u phÃ¢n tÃ¡n trá»n nhiá»u server. Do váº­y Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘iá»u nÃ y ta pháº£i thá»±c hiá»‡n Ä‘iá»u nÃ y trÃªn mÃ£ á»©ng dá»¥ng (code), Ä‘iá»u nÃ y sáº½ tÄƒng tÃ­nh phá»©c táº¡p cá»§a á»©ng dá»¥ng.&lt;/li&gt;
&lt;li&gt;Rebalancing
Trong suá»‘t quÃ¡ trÃ¬nh há»‡ thá»‘ng váº­n hÃ nh cÃ³ ráº¥t nhiá»u lÃ½ do ta thay Ä‘á»•i cÃ¡c chiáº¿n thuáº­t hay cÃ¡ch thá»©c Sharding dá»¯ liá»‡u, nhÆ° business tÄƒng trÆ°á»Ÿng yÃªu cáº§u thÃªm Serverâ€¦ VÃ  má»—i khi nhÆ° váº­y ta pháº£i tÃ¡i cÃ¢n báº±ng (rebalancing) dá»¯ liá»‡u trÃªn táº¥t cáº£ cÃ¡c Server, cÃ³ nghÄ©a lÃ  dá»¯ liá»‡u pháº£i Ä‘Æ°á»£c phÃ¢n phá»‘i láº¡i trÃªn toÃ n bá»™ server. Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u nÃ y mÃ  khÃ´ng cÃ³ Ä‘á»™ trá»… (downtime) lÃ  cá»±c ká»³ khÃ³ khÄƒn. MÃ´ hÃ¬nh sharding â€œDirectory Basedâ€ cÃ³ kháº£ nÄƒng rebalancing tá»‘t nháº¥t nhÆ°ng láº¡i tÄƒng Ä‘á»™ phá»©c táº¡p cá»§a á»©ng dá»¥ng vÃ  táº¡o thÃªm má»™t single point of failure (vÃ­ dá»¥ â€œlookup serviceâ€).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;TÃ³m láº¡i vá»›i Sharding thÃ¬ mÃ´ hÃ¬nh sharding vá»›i key/hash vá»›i Consistent Hashing hiá»‡n táº¡i lÃ  giáº£i phÃ¡p tá»‘i Æ°u nháº¥t cho viá»‡c Rebalancing.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-5-indexes&#34;&gt;Pháº§n 5: Indexes&lt;/h2&gt;
&lt;p&gt;CÃ³ láº½ thuáº­t ngá»¯ â€œÄ‘Ã¡nh indexâ€ Ä‘Ã£ quÃ¡ quen vá»›i nhá»¯ng ai lÃ m viá»‡c vá»›i CSDL, Ä‘Ã³ lÃ  cÃ¡ch ráº¥t phá»• biáº¿n Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ query cá»§a dá»¯ liá»‡u, khi dá»¯ liá»‡u Database ngÃ y cÃ ng tÄƒng vÃ  trá»Ÿ nÃªn cháº­m dáº§n Ä‘á»u theo thá»i gian. Má»¥c tiÃªu cá»§a viá»‡c táº¡o Index lÃ  Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ tráº£ vá» dá»¯ liá»‡u cá»§a má»™t hoáº·c nhiá»u trÆ°á»ng (rows) trÃªn má»™t báº£ng (table) cá»¥ thá»ƒ nÃ o Ä‘Ã³ báº±ng cÃ¡ch táº¡o Index trÃªn má»™t hoáº·c nhiá»u cá»™t (columns) cá»§a má»™t database table.&lt;/p&gt;
&lt;p&gt;Äá»ƒ hiá»ƒu rÃµ hÆ¡n tháº¿ nÃ o lÃ  Indexes ta hÃ£y Ä‘áº¿n thá»­ má»™t nhÃ  sÃ¡ch hay thÆ° viá»‡n, thÆ°á»ng cÃ¡c cuá»‘n sÃ¡ch sáº½ Ä‘Æ°á»£c phÃ¢n chia theo cÃ¡c danh má»¥c vá» ná»™i dung nhÆ°: sÃ¡ch náº¥u Äƒn, sÃ¡ch tiá»ƒu thuyáº¿t nÆ°á»›c ngoÃ i, sÃ¡ch tÃ¢m lÃ½, sÃ¡ch lá»‹ch sá»­ â€¦ Náº¿u ta muá»‘n tÃ¬m kiáº¿m má»™t loáº¡i sÃ¡ch theo ná»™i dung mong muá»‘n thÃ¬ chá»‰ viá»‡c tá»›i cÃ¡ ká»‡ sÃ¡ch vá»›i ná»™i dung tÆ°Æ¡ng á»©ng, nÃ³ sáº½ nhanh hÆ¡n lÃ  tÃ¬m kiáº¿m tá»« toÃ n bá»™ cáº£ nhÃ  sÃ¡ch tá»«. Hoáº·c vÃ­ dá»¥ khÃ¡c vá» cÃ¡c pháº§n má»¥c lá»¥c trong muá»‘n cuá»‘n sÃ¡ch, náº¿u ta muá»‘n tÃ¬m nhanh Ä‘áº¿n â€œchÆ°Æ¡ng há»“iâ€ ta Ä‘ang cáº§n tÃ¬m kiáº¿m hoáº·c Ä‘á»c dá»Ÿ chá»‰ cáº§n tra má»¥c lá»¥c rá»“i tÃ¬m tá»›i Ä‘Ãºng trang chá»©a ná»™i dung.&lt;/p&gt;
&lt;p&gt;Index trong Database cÅ©ng giá»‘ng nhÆ° váº­y, vÃ­ dá»¥ ta cÃ³ má»™t table lÃ  Books chá»©a 4 columns lÃ  â€œbook_titleâ€, â€œwriterâ€, â€œsubjectâ€, vÃ  â€œdate_of_publicationâ€, thÆ°á»ng thÃ¬ khÃ¡ch hÃ ng sáº½ thÆ°á»ng xuyÃªn tÃ¬m kiáº¿m sÃ¡ch theo hai tiÃªu chÃ­ lÃ  tÃªn sÃ¡ch vÃ  tÃ¡c giáº£, do Ä‘Ã³ ta sáº½ táº¡o Index cho hai column lÃ  â€œbook_titleâ€ vÃ  â€œwriterâ€. Database sáº½ táº¡o ra má»™t data structure riÃªng biá»‡t chá»©a hai giÃ¡ trá»‹ cá»§a toÃ n bá»™ ná»™i dung (content) cÃ¡c cá»™t Ä‘Ã¡nh index vÃ  má»™t con trá» (pointer) Ä‘á»ƒ trá» tá»›i dá»¯ liá»‡u tháº­t sá»± Ä‘ang náº±m á»Ÿ Database. NhÆ° váº­y, sá»­ dá»¥ng index yÃªu cáº§u cáº§n disk space Ä‘á»ƒ chá»©a cáº¥u trÃºc cá»§a nÃ³ vÃ  Index cÅ©ng khÃ´ng lÃ m thay Ä‘á»•i cáº¥u trÃºc cá»§a table. Do váº­y má»—i lÃ m tÃ¬m kiáº¿m dá»¯ liá»‡u thÃ¬ Database sáº½ tÃ¬m kiáº¿m á»Ÿ Index sau Ä‘Ã³ dá»±a vÃ o con trá» cá»§a Index Ä‘á»ƒ tráº£ vá» dá»¯ liá»‡u tháº­t.&lt;/p&gt;
&lt;p&gt;NhÆ°ng táº¡i sao tÃ¬m kiáº¿m trÃªn Index láº¡i nhanh hÆ¡n tÃ¬m kiáº¿m trÃªn Database, bá»Ÿi vÃ¬ Index luÃ´n luÃ´n sáº¯p xáº¿p dá»¯ liá»‡u Ä‘á»ƒ tá»‘i Æ°u nháº¥t cho cÃ¡c thuáº­t toÃ¡n thá»±c hiá»‡n viá»‡c tÃ¬m kiáº¿m, cÃ²n dá»¯ liá»‡u Database tháº­t thÃ¬ luÃ´n sáº¯p xáº¿p lá»™n xá»™n khÃ´ng cÃ³ thá»© tá»± nÃªn khÃ´ng thuáº­n tiá»‡n cho viá»‡c tÃ¬m kiáº¿m. Má»—i Database sáº½ cÃ³ cÃ¡ch sáº¯p xáº¿p Index vÃ  thuáº­t toÃ¡n tÃ¬m kiáº¿m Index khÃ¡c nhau.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://truongnh28.github.io/p/system-design-basic/idx.jpeg&#34;
	width=&#34;1050&#34;
	height=&#34;646&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-basic/idx_hud3f00abfefc6b4d3b0f8f144ed2ee5e3_88293_480x0_resize_q75_box.jpeg 480w, https://truongnh28.github.io/p/system-design-basic/idx_hud3f00abfefc6b4d3b0f8f144ed2ee5e3_88293_1024x0_resize_q75_box.jpeg 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;162&#34;
		data-flex-basis=&#34;390px&#34;
	
&gt;
Tuy nhiÃªn Index cÅ©ng khÃ´ng pháº£i lÃ  má»™t magic keyword, viá»‡c Ä‘Ã¡nh Index cáº§n tháº­t cáº©n trá»ng&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thá»© 1: Viá»‡c táº¡o Index sáº½ tá»‘n disk space, do Ä‘Ã³ chá»‰ nÃªn Ä‘Ã¡nh nhá»¯ng cá»™t dá»¯ liá»‡u cÃ³ dung lÆ°á»£ng nhá», vÃ  sáº½ khÃ´ng cÃ³ Ã½ nghÄ©a gÃ¬ náº¿u Ä‘Ã¡nh Index cá»™t contents kiá»ƒu CLOB chá»©a ná»™i dung cá»§a má»™t article vÃ¬ lÃºc Ä‘Ã³ dá»¯ liá»‡u cá»§a Index sáº½ to báº±ng nguyÃªn cÃ¡i table gá»‘c.&lt;/li&gt;
&lt;li&gt;Thá»© 2: Index thÃ¬ ta cÅ©ng pháº£i cáº§n táº¡o ra nÃ³, vá»›i má»™t dá»¯ liá»‡u lá»›n sáºµn rá»“i mÃ  lÃºc nÃ y ta má»›i Ä‘Ã¡nh Index thÃ¬ viá»‡c táº¡o ra nÃ³ lÃ  má»™t cÃ´ng viá»‡c ráº¥t tá»‘n thá»i gian vÃ  tÃ i nguyÃªn há»‡ thá»‘ng. Cho nÃªn tá»‘t nháº¥t hÃ£y lÆ°á»ng trÆ°á»›c ta táº¡o Index ngay tá»« khi dá»¯ liá»‡u cÃ²n nhá».&lt;/li&gt;
&lt;li&gt;Thá»© 3: Viá»‡c dá»¯ liá»‡u Ä‘Æ°á»£c thÃªm má»›i sá»­a xÃ³a (CUD) thÆ°á»ng xuyÃªn trÃªn Table gá»‘c thÃ¬ Index cÅ©ng sáº½ pháº£i thÃªm má»›i sá»­a vÃ  sáº¯p xáº¿p láº¡i, vá»›i má»™t Table cÃ³ dá»¯ liá»‡u lá»›n thÃ¬ viá»‡c nÃ y cÅ©ng ráº¥t máº¥t thá»i gian vÃ  nÃ³ sáº½ lÃ m cháº­m Ä‘i quÃ¡ trÃ¬nh update hay create dá»¯ liá»‡u tá»« table gá»‘c.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Do Ä‘Ã³ chá»‰ nhá»¯ng Index thá»±c sá»± cáº§n thiáº¿t má»›i nÃªn thÃªm vÃ o vÃ  nÃªn thÆ°á»ng xuyÃªn xem xÃ©t láº¡i vÃ  xÃ³a nhá»¯ng Index khÃ´ng thá»±c sá»± cáº§n thiáº¿t. VÃ  má»¥c tiÃªu chÃ­nh cá»§a Index Ä‘Ã³ lÃ  tÄƒng kháº£ nÄƒng Ä‘á»c (read) cá»§a dá»¯ liá»‡u, do Ä‘Ã³ nhá»¯ng Table dáº¡ng thÆ°á»ng xuyÃªn ghi nhÆ°ng Ã­t khi Ä‘Æ°á»£c Ä‘á»c thÃ¬ tá»‘t nháº¥t khÃ´ng nÃªn táº¡o Index, vÃ¬ nÃ³ sáº½ giáº£m hiá»‡u xuáº¥t cá»§a viá»‡c ghi dá»¯ liá»‡u.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-6-proxies&#34;&gt;Pháº§n 6: Proxies&lt;/h2&gt;
&lt;p&gt;Proxy server lÃ  má»™t server trung gian (intermediary) náº±m giá»¯a client vÃ  back-end server. Client káº¿t ná»‘i vá»›i proxy server Ä‘á»ƒ yÃªu cáº§u (request) nhá»¯ng dá»‹ch vá»¥ (service) cáº§n thiáº¿t nhÆ° API, web page, file hay connection, v.Vâ€¦ NÃ³i tÃ³m láº¡i, proxy server lÃ  má»™t pháº§n cá»§a há»‡ thá»‘ng pháº§n má»m hoáº·c pháº§n cá»©ng Ä‘Ã³ng vai trÃ² trung gian káº¿t ná»‘i cÃ¡c yÃªu cáº§u tá»« client tá»›i cÃ¡c thÃ nh pháº§n khÃ¡c trong há»‡ thá»‘ng.&lt;/p&gt;
&lt;p&gt;Proxy Ä‘Æ°á»£c sá»­ dá»¥ng chá»§ yáº¿u Ä‘á»ƒ lá»c hoáº·c ghi log cÃ¡c yÃªu cáº§u (filter request, log request) hoáº·c Ä‘á»ƒ thay Ä‘á»•i cÃ¡c request (nhÆ° thÃªm hoáº·c xÃ³a cÃ¡c header, mÃ£ hÃ³a/giáº£i mÃ£ hay nÃ©n cÃ¡c resource). Hoáº·c má»™t á»©ng dá»¥ng ráº¥t há»¯u Ã­ch khÃ¡c lÃ  dÃ¹ng Ä‘á»ƒ cache response rá»“i tráº£ vá» cho nhiá»u request cÃ¹ng loáº¡i, nhÆ° trong trÆ°á»ng há»£p nhiá»u client request tá»›i cÃ¹ng má»™t resource thÃ¬ Proxy cÃ³ thá»ƒ cache resource Ä‘Ã³ rá»“i tráº£ vá» cho cÃ¡c client mÃ  khÃ´ng cáº§n gá»i tá»›i cÃ¡c â€œremote serverâ€ khÃ¡c.&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh Proxy Server hoáº¡t Ä‘á»™ng
CÃ¡c kiá»ƒu Proxy Server
Open Proxy
Má»™t Open Proxy Server lÃ  má»™t mÃ¡y chá»§ mÃ  báº¥t ká»³ ngÆ°á»i dÃ¹ng Internet nÃ o cÅ©ng cÃ³ thá»ƒ truy cáº­p. ThÃ´ng thÆ°á»ng nÃ³ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm xoÃ¡t bÄƒng thÃ´ng hoáº·c lÆ°u vÃ  chuyá»ƒn tiáº¿p cÃ¡c dá»‹ch vá»¥ máº¡ng nhÆ° DNS hoáº·c cÃ¡c dá»‹ch vá»¥ Web cá»§a má»™t nhÃ³m ngÆ°á»i dÃ¹ng sá»­ dá»¥ng chung Open Proxy Ä‘Ã³. CÃ³ hai loáº¡i Open Proxy lÃ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proxy áº©n danh (Anonymous Proxy): Proxy server nÃ y cÃ³ thá»ƒ che dáº¥u cÃ¡c IP tháº­t cá»§a cÃ¡c user sá»­ dá»¥ng nÃ³ khá»i cÃ¡c dá»‹ch vá»¥ nÃ³ truy cáº­p Ä‘áº¿n. Proxy áº©n danh cÃ³ tÃ¡c dá»¥ng tÄƒng Ä‘á»™ báº£o máº­t cho ngÆ°á»i dÃ¹ng vÃ¬ Ä‘á»‹a chá»‰ IP thá»±c cá»§a ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ truy dáº«n ra thÃ´ng tin vá» ngÆ°á»i dÃ¹ng vÃ  Ä‘á»ƒ thÃ¢m nháº­p vÃ o mÃ¡y tÃ­nh cá»§a ngÆ°á»i Ä‘Ã³. Hoáº·c dÃ¹ng Ä‘á»ƒ vÆ°á»£t qua tÆ°á»ng lá»­a cá»§a cÃ¡c tá»• chá»©c hoáº·c quá»‘c gia NgoÃ i ra, proxy áº©n danh cÃ²n Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ lÃ¡ch qua sá»± kiá»ƒm duyá»‡t Internet cá»§a cÃ¡c chÃ­nh phá»§ hoáº·c tá»• chá»©c.&lt;/li&gt;
&lt;li&gt;Proxy minh báº¡ch (TrĞ°nspĞ°rent Proxy): TrÃ¡i ngÆ°á»£c vá»›i anonymous Proxy, thÃ¬ proxy nÃ y cho phÃ©p cÃ¡c dá»‹ch vá»¥ truy cáº­p tá»›i biáº¿t Ä‘Æ°á»£c IP tháº­t cá»§a user báº±ng cÃ¡c HTTP header (vÃ­ dá»¥ nhÆ° X-Forwarded-For). Æ¯u Ä‘iá»ƒm cá»§a Proxy nÃ y lÃ  kháº£ nÄƒng cache response nhÆ° website Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ káº¿t ná»‘i máº¡ng cá»§a nhá»¯ng ngÆ°á»i dÃ¹ng bÃªn trong mÃ¡y chá»§ Proxy.
Reverse Proxy
Reverse proxy lÃ  má»™t proxy server mÃ  khi Ä‘á»©ng trÆ°á»›c client, cÃ³ tÃ¡c dá»¥ng chuyá»ƒn tiáº¿p request Ä‘áº¿n má»™t hoáº·c nhiá»u back-end server vÃ  nháº­n káº¿t quáº£ tá»« cÃ¡c server nÃ y rá»“i tráº£ vá» phÃ­a client (forwarder), giÃºp che dáº¥u danh tÃ­nh cá»§a cÃ¡c back-end server bÃªn dÆ°á»›i. Reverse proxy Ä‘Æ°á»£c cÃ i Ä‘áº·t trong má»™t private network cá»§a má»™t hoáº·c nhiá»u server, vÃ  táº¥t cáº£ lÆ°u lÆ°á»£ng truy cáº­p Ä‘á»u pháº£i Ä‘i qua proxy nÃ y.
ThÃ´ng thÆ°á»ng, nhá»¯ng server sáº½ sá»­ dá»¥ng cÆ¡ cháº¿ reverse proxy nÃ y Ä‘á»ƒ báº£o vá»‡ cÃ¡c á»©ng dá»¥ng cÃ³ kháº£ nÄƒng xá»­ lÃ½ HTTP yáº¿u kÃ©m hÆ¡n. VÃ­ dá»¥ nhÆ° kháº£ nÄƒng xá»­ lÃ½ cá»±c lá»›n cÃ¡c request, nhá»¯ng háº¡n cháº¿ vá» xá»­ lÃ½ sá»± Ä‘a dáº¡ng cá»§a cÃ¡c loáº¡i request (cÃ¡c dáº¡ng request cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: HTTP(S) 1.x, HTTP(S) 2.x, â€¦) hay kháº£ nÄƒng chuyá»ƒn Ä‘á»•i HTTPS thÃ nh HTTP, cache request, xá»­ lÃ½ dá»¯ liá»‡u cá»§a cookies/session, chia má»™t request thÃ nh nhiá»u request nhá» hÆ¡n rá»“i tá»•ng há»£p láº¡i cÃ¡c response, â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Reverse Proxy&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-7-sao-lÆ°u-vÃ -Ä‘á»“ng-bá»™-dá»¯-liá»‡u--redundancy-and-replication&#34;&gt;Pháº§n 7: Sao lÆ°u vÃ  Ä‘á»“ng bá»™ dá»¯ liá»‡u â€” Redundancy and Replication&lt;/h2&gt;
&lt;p&gt;Redundancy
LÃ  phÆ°Æ¡ng thá»©c sao lÆ°u cÃ¡c dá»¯ liá»‡u quan trá»ng cá»§a há»‡ thá»‘ng vá»›i má»¥c Ä‘Ã­ch tÄƒng Ä‘á»™ tin cáº­y (Reliability) cá»§a há»‡ thá»‘ng. VÃ­ dá»¥ dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trÃªn duy nháº¥t má»™t Server, náº¿u Server Ä‘Ã³ máº¥t cÃ³ nghÄ©a lÃ  táº¥t cáº£ dá»¯ liá»‡u Ä‘Ã³ máº¥t, do Ä‘Ã³ viá»‡c táº¡o ra cÃ¡c báº£n sao lÆ°u lÃ  Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y. Redundancy lÃ  má»™t Ä‘iá»u kiá»‡n Ä‘á»ƒ xÃ³a bá» nhá»¯ng â€œsingle points of failureâ€ vÃ  táº¡o ra cÃ¡c báº£n sao lÆ°u lÃºc cáº§n thiáº¿t, vÃ­ dá»¥ ta cÃ³ hai mÃ¡y chá»§ Database Ä‘ang cháº¡y trÃªn production vÃ  dá»¯ liá»‡u luÃ´n Ä‘Æ°á»£c sao lÆ°u Ä‘á»“ng bá»™ giá»¯a hai mÃ¡y chá»§, vÃ  náº¿u cÃ³ má»™t trong hai mÃ¡y chá»§ bá»‹ down thÃ¬ ta cÃ³ thá»ƒ failover sang mÃ¡y chá»§ cÃ²n láº¡i. Redundancy nÃ³ giá»‘ng nhÆ° duplicate láº¡i node/server dÃ¹ng cho má»¥c Ä‘Ã­ch back-up váº­y.&lt;/p&gt;
&lt;p&gt;Replication
Gáº§n tÆ°Æ¡ng tá»± vá»›i vá»›i Redundancy lÃ  ta cÅ©ng táº¡o ra má»™t báº£n sao lÆ°u dá»¯ liá»‡u cá»§a Server chÃ­nh (Master) sang Server backup (Slave), nhÆ°ng khÃ¡c nhau cÆ¡ báº£n lÃ  Replication sáº½ update dá»¯ liá»‡u giá»¯a Master vÃ  Slave lÃ  luÃ´n luÃ´n giá»‘ng nhau vÃ  má»i thá»i Ä‘iá»ƒm (real time synchronization) Ä‘á»ƒ tÄƒng Ä‘á»™ tin cáº­y (reliability), Ä‘áº·c biá»‡t lÃ  kháº£ nÄƒng chá»‹u lá»—i cá»§a há»‡ thá»‘ng (fault-tolerance) vÃ  kháº£ nÄƒng truy cáº­p (accessibility). Replication Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i á»Ÿ cÃ¡c CSDLQH (RDBMS) trong mÃ´ hÃ¬nh master/slave, dá»¯ liá»‡u giá»¯a master-slave luÃ´n luÃ´n Ä‘Æ°á»£c Ä‘á»“ng bá»™, trong trÆ°á»ng há»£p master down thÃ¬ slave sáº½ lÃªn thay master sau khi master vá»«a down sá»‘ng dáº­y nÃ³ sáº½ trá»Ÿ thÃ nh slave mÃ  sáº½ thá»±c hiá»‡n Ä‘á»“ng bá»™ dá»¯ liá»‡u chÆ°a Ä‘Æ°á»£c update trong thá»i gian nÃ³ bá»‹ down.&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh Master â€” Slave&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-8-sql-vs-nosql&#34;&gt;Pháº§n 8: SQL vs. NoSQL&lt;/h2&gt;
&lt;p&gt;Trong tháº¿ giá»›i cá»§a CSDL hiá»‡n táº¡i ta cÃ³ hai loáº¡i giáº£i phÃ¡p chÃ­nh Ä‘Ã³ lÃ : SQL vÃ  NoSQL (cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u phi quan há»‡). Cáº£ hai Ä‘á»u ráº¥t khÃ¡c nhau vá» cÃ¡ch chÃºng Ä‘Æ°á»£c xÃ¢y dá»±ng, loáº¡i dá»¯ liá»‡u nÃ³ chÃºng lÆ°u trá»¯ vÃ  cáº£ cÃ¡ch thá»©c lÆ°u trá»¯ dá»¯ liá»‡u cá»§a chÃºng.
CÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ lÆ°u trá»¯ nhá»¯ng dá»¯ liá»‡u cÃ³ cáº¥u trÃºc rÃµ rÃ ng vÃ­ dá»¥ nhÆ° danh báº¡ Ä‘iá»‡n thoáº¡i thÃ¬ sáº½ cháº¯c cháº¯n sáº½ chá»©a tÃªn ngÆ°á»i vÃ  sá»‘ Ä‘iá»‡n thoáº¡i cá»§a ngÆ°á»i Ä‘Ã³. CÃ²n cÆ¡ sá»Ÿ dá»¯ liá»‡u phi quan há»‡ lÆ°u trá»¯ giá»¯ liá»‡u khÃ´ng cÃ³ cáº¥u trÃºc, cáº¥u trÃºc cá»§a nÃ³ ráº¥t Ä‘á»™ng vÃ  phÃ¢n tÃ¡n, vÃ­ dá»¥ nhÆ° chá»©a má»™t tá»‡p tÃ i liá»‡u (document) vá» ngÆ°á»i dÃ¹ng nhÆ° sá»‘ Ä‘iá»‡n thoáº¡i, Ä‘á»‹a chá»‰, hay nhá»¯ng activity cá»§a há» trÃªn Facebook hay cÃ¡c trang mua sáº¯m trá»±c tuyáº¿n. Dá»¯ liá»‡u cá»§a nÃ³ thÆ°á»ng dÆ°á»›i dáº¡ng key-value dáº¡ng JSON, vÃ  nhá»¯ng document cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o mÃ  khÃ´ng cáº§n pháº£i xÃ¡c Ä‘á»‹nh trÆ°á»›c cáº¥u trÃºc.&lt;/p&gt;
&lt;p&gt;SQL
CSDLQH chá»©a dá»¯ liá»‡u theo dáº¡ng dÃ²ng (rows) vÃ  cá»™t(columns). Má»—i dÃ²ng sáº½ chá»©a nhá»¯ng thÃ´ng tin cá»§a dá»¯ liá»‡u vÃ  má»—i cá»™t sáº½ chá»©a nhá»¯ng Ä‘áº·c Ä‘iá»ƒm cá»§a dá»¯ liá»‡u, giá»¯a cÃ¡c báº£ng cÃ³ thá»ƒ cÃ³ liÃªn káº¿t vá»›i nhau qua khÃ³a ngoáº¡i (foreign key). Má»™t sá»‘ CSDLQH phá»• biáº¿n lÃ  MySQL, Oracle, MS SQL Server, SQLite, Postgres, MariaDB vÃ  IMB D2.&lt;/p&gt;
&lt;p&gt;NoSQL
NoSQL Ä‘Æ°á»£c phÃ¢n thÃ nh 4 loáº¡i chÃ­nh sau:&lt;/p&gt;
&lt;p&gt;Key-Value Stores:
Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng cáº·p key-value, vá»›i â€˜keyâ€™ lÃ  thuá»™c tÃ­nh duy nháº¥t Ä‘á»ƒ liÃªn káº¿t vá»›i giÃ¡ trá»‹ (value) cá»§a nÃ³. CÃ¡c Key-Value stores ná»•i tiáº¿ng bao gá»“m Redis hay Amazon DynamoDB.&lt;/p&gt;
&lt;p&gt;Document Databases:
LÃ  DB chá»©a dá»¯ liá»‡u dáº¡ng theo kiá»ƒu cÃ¡c tá»‡p tÃ i liá»‡u (document) Ä‘á»ƒ thay tháº¿ cho kiá»ƒu dÃ²ng vÃ  cá»™t trong table vÃ  nhiá»u document gá»™p láº¡i sáº½ thÃ nh má»™t Collection. KhÃ¡c vá»›i kiá»ƒu table lÃ  má»—i document sáº½ chÆ°a cÃ¡c dáº¡ng cáº¥u trÃºc khÃ¡c nhau. VÃ­ dá»¥ trong MongoDB thÃ¬ má»—i document sáº½ chá»©a dá»¯ liá»‡u kiá»ƒu JSON, tá»©c lÃ  má»—i document lÃ  má»™t JSON. Document DB tiÃªu biá»ƒu hiá»‡n táº¡i cÃ³ MongoDB vÃ  CouchDB.&lt;/p&gt;
&lt;p&gt;Wide-Column Databases: Wide-Column hay cÃ²n gá»i lÃ  Big-Table lÃ  mÃ´ hÃ¬nh dá»¯ liá»‡u Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u vá»›i kháº£ nÄƒng má»—i rows chá»©a ráº¥t nhiá»u column(cá»™t) má»—i cá»™t láº¡i lÃ  má»™t cáº·p key-value, vÃ  á»Ÿ Ä‘Ã¢y sá»‘ lÆ°á»£ng cá»™t lÃ  tÃ¹y biáº¿n (dynamic) cho má»—i rows, cÃ³ nghÄ©a lÃ  sá»‘ cá»™t á»Ÿ má»—i rows lÃ  khÃ¡c nhau. CÃ³ thá»ƒ tháº¥y nÃ³ giá»‘ng nhÆ° kiá»ƒu key-value hai chiá»u vá»›i má»—i key láº¡i chá»©a nhiá»u cáº·p key-value bÃªn trong. CÃ¡c Wide-Column DB tiÃªu biá»ƒu bao gá»“m Cassandra hay HBase.&lt;/p&gt;
&lt;p&gt;Graph Databases DB dáº¡ng nÃ y sáº½ lÆ°u dá»¯ liá»‡u dáº¡ng cáº¥u trÃºc dá»¯ liá»‡u kiá»ƒu Ä‘á»“ thá»‹ (graph) Ä‘á»ƒ biá»ƒu thá»‹ má»‘i quan há»‡ giá»¯a cÃ¡c dá»¯ liá»‡u vá»›i nhau. Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u vÃ o cÃ¡c nodes (entities) vÃ  thuá»™c tÃ­nh cá»§a node, liÃªn káº¿t giá»¯a cÃ¡c nodes sáº½ qua cÃ¡c lines. Graph DB phá»• biáº¿n cÃ³ Neo4J vÃ  InfiniteGraph.&lt;/p&gt;
&lt;p&gt;MÃ´ táº£ quan há»‡ trÃªn Facebook cá»§a ngÆ°á»i dÃ¹ng sá»­ dá»¥ng Graph DB
Sá»± khÃ¡c nhau giá»¯a SQL vÃ  NoSQL
LÆ°u trá»¯ â€” Storage:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SQL lÆ°u trá»¯ dá»¯ liá»‡u trong cÃ¡c báº£ng (tables) trong Ä‘Ã³ má»—i row Ä‘áº¡i diá»‡n cho má»™t thá»±c thá»ƒ dá»¯ liá»‡u (entity), vÃ  má»—i column sáº½ chá»©a cÃ¡c thuá»™c tÃ­nh cá»§a entity; vÃ­ dá»¥ náº¿u ta chá»©a dá»¯ liá»‡u cá»§a thá»±c thá»ƒ xe hÆ¡i (car entity) ta sáº½ lÆ°u trá»¯ vÃ o má»™t báº£ng dá»¯ liá»‡u cÃ³ nhiá»u column Ä‘áº¡i diá»‡n cho Ä‘áº·c Ä‘iá»ƒm cá»§a chiáº¿c xe Ä‘Ã³ nhÆ° â€œmÃ uâ€ â€œnhÃ£n hiá»‡uâ€ â€œhÃ£ng sáº£n xuáº¥tâ€ â€¦&lt;/li&gt;
&lt;li&gt;NoSQL lÆ°u trá»¯ dá»¯ liá»‡u trÃªn ráº¥t nhiá»u loáº¡i cáº¥u trÃºc dá»¯ liá»‡u khÃ¡c nhau nhÆ° Ä‘Ã£ bÃ n bÃªn trÃªn nhÆ° dáº¡ng key-value, document hay graph.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;LÆ°á»£c Ä‘á»“ dá»¯ liá»‡u cá»§a thá»±c thá»ƒ â€” Schema:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trong SQL thÃ¬ má»—i báº£n ghi cÃ³ schema lÃ  cá»‘ Ä‘á»‹nh, tá»©c lÃ  má»—i column trong table pháº£i Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a tá»« trÆ°á»›c khi táº¡o báº£ng, vÃ  má»—i khi dá»¯ liá»‡u Ä‘Æ°á»£c thÃªm vÃ o má»™t row thÃ¬ cÃ¡c column cá»§a nÃ³ pháº£i cÃ³ giÃ¡ trá»‹ (cháº¥p nháº­n giÃ¡ trá»‹ NULL). CÃ¡c schema cÃ³ thá»ƒ Ä‘Æ°á»£c thay Ä‘á»•i sau Ä‘Ã³ (alter table), nhÆ°ng sá»± thay Ä‘á»•i nÃ y pháº£i náº±m á»Ÿ phÃ­a Database vÃ  khi DB thá»±c hiá»‡n thay Ä‘á»•i nÃ y nÃ³ sáº½ offline táº¡m thá»i.&lt;/li&gt;
&lt;li&gt;Trong NoSQL, schema lÃ  Ä‘á»™ng (dynamic) cÃ³ nghÄ©a lÃ  ta khÃ´ng cáº§n pháº£i Ä‘á»‹nh nghÄ©a má»™t schema nÃ o trÆ°á»›c mÃ  schema sáº½ Ä‘Æ°á»£c dá»±a vÃ o cáº¥u trÃºc cá»§a records Ä‘Æ°á»£c Ä‘Æ°a vÃ o.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Truy váº¥n â€” Querying:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SQL truy váº¥n thÃ´ng qua má»™t ngÃ´n ngá»¯ truy váº¥n mang tÃ­nh cáº¥u trÃºc Ä‘Æ°á»£c gá»i lÃ  Structured Query Language (SQL) thao tÃ¡c vá»›i dá»¯ liá»‡u. SQL lÃ  má»™t ngÃ´n ngá»¯ ráº¥t máº¡nh máº½ vÃ  lÃ¢u Ä‘á»i lÃ  Ä‘áº¡i diá»‡n duy nháº¥t cho toÃ n bá»™ cÃ¡c RDBMS khÃ¡c nhau.&lt;/li&gt;
&lt;li&gt;NoSQL truy váº¥n cá»§a nÃ³ thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  UnSQL (Unstructured Query Language) má»—i dáº¡ng NoSQL khÃ¡c nhau sáº½ cÃ³ cáº¥u trÃºc cÃº phÃ¡p (syntax) khÃ¡c nhau Ä‘á»ƒ cÃ³ thá»ƒ láº¥y ra cÃ¡c dáº¡ng dá»¯ liá»‡u khÃ¡c nhau (collection, key-value, node â€¦)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Kháº£ nÄƒng má»Ÿ rá»™ng â€” Scalability:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trong háº§u háº¿t cÃ¡c RDBMS thÃ¬ kháº£ nÄƒng má»Ÿ rá»™ng lÃ  theo chiá»u dá»c (vertically scalable) vÃ­ dá»¥ nhÆ° tÄƒng sá»©c máº¡nh pháº§n cá»©ng cá»§a mÃ¡y chá»§ hiá»‡n táº¡i (tÄƒng CPU, Ramâ€¦), táº¥t nhiÃªn ráº±ng cÃ¡ch lÃ m nÃ y ráº¥t Ä‘áº¯t Ä‘á» cÅ©ng nhÆ° tá»‘n thá»i gian mÃ  Ä‘áº·c biá»‡t lÃ  nÃ³ luÃ´n cÃ³ giá»›i háº¡n nÃ o Ä‘Ã³.&lt;/li&gt;
&lt;li&gt;CÃ²n vá»›i NoSQL DB thÃ¬ há»— trá»£ ráº¥t tá»‘t cho má»Ÿ rá»™ng theo chiá»u ngang (horizontally scalable), cÃ³ nghÄ©a lÃ  Ä‘Æ¡n giáº£n chá»‰ thÃªm server vÃ o cÃ¡c nodes hiá»‡n cÃ³, cÃ¡ch lÃ m nÃ y Ä‘Æ¡n giáº£n cÅ©ng nhÆ° ráº» tiá»n hÆ¡n. Pháº§n lá»›n cÃ¡c NoSQL DB cÃ´ng viá»‡c nÃ y Ä‘Ã£ Ä‘Æ°á»£c há»— trá»£ sáºµn vÃ  Ä‘Æ°á»£c lÃ m tá»± Ä‘á»™ng, cÃ³ nghÄ©a lÃ  ráº¥t dá»… Ä‘á»ƒ triá»ƒn khai.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Äá»™ tin cáº­y â€” Reliability:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Háº§u háº¿t cÃ¡c RDBMS Ä‘á»u tuÃ¢n thá»§ theo cÃ¡c thuá»™c tÃ­nh cá»§a ACID (atomicity, consistency, isolation, vÃ  durability) vÃ¬ váº­y nÃ³ ráº¥t Ä‘áº£m báº£o Ä‘á»™ tin cáº­y vÃ  báº£o toÃ n dá»¯ liá»‡u.&lt;/li&gt;
&lt;li&gt;CÃ²n vá»›i NoSQL thÃ¬ Ä‘a pháº§n sáº½ hy sinh tÃ­nh cháº¥t ACID Ä‘á»ƒ Ä‘Ã¡nh Ä‘á»•i vá»›i performance (hiá»‡u nÄƒng) vÃ  kháº£ nÄƒng má»Ÿ rá»™ng (scalability).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Khi nÃ o thÃ¬ chÃºng ta sá»­ dá»¥ng SQL hay NoSQL
SQL hay NoSQL Ä‘á»u cÃ³ nhá»¯ng tÃ­nh cháº¥t khÃ¡c nhau phá»¥c vá»¥ cho nhá»¯ng nhu cáº§u Ä‘áº·c biá»‡t khÃ¡c nhau, do váº­y khÃ´ng cÃ³ DB nÃ o thá»±c sá»± lÃ  hoÃ n háº£o phÃ¹ há»£p cho má»i nhu cáº§u tÃ¹y vÃ o má»¥c Ä‘Ã­ch cá»§a há»‡ thá»‘ng sá»Ÿ táº¡i. Ngay cáº£ khi hiá»‡n táº¡i NoSQL Ä‘ang trá»Ÿ nÃªn phá»• biáº¿n rá»™ng rÃ£i vá» tá»‘c Ä‘á»™ vÃ  kháº£ nÄƒng má»Ÿ rá»™ng, nhÆ°ng váº«n cÃ³ tÃ¬nh huá»‘ng mÃ  má»™t SQL DB sáº½ hoáº¡t Ä‘á»™ng tá»‘t hÆ¡n (vÃ­ dá»¥ há»‡ thá»‘ng vá» giao dá»‹ch tiá»n tá»‡ cáº§n Ä‘áº£m báº£o vá» tÃ­nh ACID)&lt;/p&gt;
&lt;p&gt;LÃ½ do sá»­ dá»¥ng SQL DB:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. á»¨ng dá»¥ng yÃªu cáº§u sá»­ lÃ½ dá»¯ liá»‡u theo cÃ¡c transaction Ä‘á»ƒ tuÃ¢n thá»§ tÃ­nh ACID Ä‘á»ƒ báº£o toÃ n tÃ­nh nháº¥t quÃ¡n vÃ  toÃ n váº¹n cá»§a dá»¯ liá»‡u báº±ng cÃ¡ch quy Ä‘á»‹nh cÃ¡c thuá»™c tÃ­nh ACID báº¯t buá»™c khi thá»±c hiá»‡n má»™t transaction, vÃ­ dá»¥ nhÆ° cÃ¡c há»‡ thá»‘ng vá» tÃ i chÃ­nh hay thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­.
2. Náº¿u á»©ng dá»¥ng cá»§a há»‡ thá»‘ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c cáº¥u trÃºc dá»¯ liá»‡u, vÃ  nghiá»‡p vá»¥ khÃ´ng Ä‘Ã²i há»i sá»± má»Ÿ rá»™ng trong tÆ°Æ¡ng lai vÃ  Ä‘Ã²i há»i sá»± nháº¥t quÃ¡n (consistent) trong dá»¯ liá»‡u.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;LÃ½ do sá»­ dá»¥ng NoSQL DB:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. Há»‡ thá»‘ng Ä‘Ã²i há»i cáº§n lÆ°u má»™t sá»‘ lÆ°á»£ng cá»±c lá»›n dá»¯ liá»‡u khÃ´ng cÃ³ cáº¥u trÃºc rÃµ rÃ ng ngay tá»« Ä‘áº§u vÃ  tÄƒng dáº§n theo thá»i gian. LÃºc nÃ y NoSQL lÃ  sá»± lá»±a chá»n tá»‘t nháº¥t vÃ¬ tÃ­nh khÃ´ng ráº±ng buá»™c trong kiá»ƒu dá»¯ liá»‡u (data type) báº±ng cÃ¡ch lÆ°u trá»¯ dá»¯ liá»‡u dáº¡ng document vÃ  tÃ­nh cháº¥t má»Ÿ rá»™ng theo chiá»u ngang (horizontally scalable).
2. CÃ¡c há»‡ thá»‘ng cáº§n phÃ¡t triá»ƒn nhanh (rapid development). NoSQL ráº¥t phÃ¹ há»£p vá»›i rapid development bá»Ÿi vÃ¬ nÃ³ khÃ´ng cáº§n máº¥t thá»i gian chuáº©n bá»‹ (cáº¥u trÃºc DB, cáº¥u trÃºc báº£ng cá»™tâ€¦). Náº¿u chÃºng ta cáº§n lÃ m viá»‡c vá»›i há»‡ thá»‘ng nghiá»‡p vá»¥ chÆ°a thá»±c sá»± rÃµ rÃ ng ngay tá»« Ä‘áº§u vÃ  Ä‘Ã²i há»i sá»± linh hoáº¡t thay Ä‘á»•i â€œdata typeâ€ giá»¯a cÃ¡c sprint mÃ  khÃ´ng áº£nh hÆ°á»Ÿng cÅ©ng nhÆ° Ä‘Ã²i há»i sá»± thay Ä‘á»•i hay Ä‘á»™ trá»… (downtime) tá»›i há»‡ thá»‘ng giá»¯a cÃ¡c version, lÃºc nÃ y cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ (RDBMS) sáº½ lÃ m cháº­m chÃºng ta láº¡i.
3. Há»‡ thá»‘ng Ä‘Æ°á»£c xÃ¢y dá»±ng vÃ  lÆ°u trá»¯ dá»¯ liá»‡u trÃªn Cloud Computing. LÆ°u trá»¯ dá»¯ liá»‡u trÃªn Cloud lÃ  má»™t giáº£i phÃ¡p tiáº¿t kiá»‡m chi phÃ­ tuyá»‡t vá»i nhÆ°ng Ä‘Ã²i há»i dá»¯ liá»‡u pháº£i lÆ°u trá»¯ Ä‘á»“ng thá»i trÃªn nhiá»u mÃ¡y chá»§ Ä‘á»ƒ má»Ÿ rá»™ng quy mÃ´ (scale up). NoSQL nhÆ° Cassandra Ä‘Æ°á»£c thiáº¿t káº¿ tá»‘i Æ°u cho viá»‡c nÃ y mÃ  khÃ´ng cáº§n ta pháº£i Ä‘á»™ng tay Ä‘á»™ng chÃ¢n quÃ¡ nhiá»u.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(*) Bonus: BÃªn trÃªn tÃ´i nháº¯c khÃ¡ nhiá»u vá» transaction vÃ  ACID, váº­y hÃ£y Ä‘i qua má»™t chÃºt tháº¿ nÃ o lÃ  má»™t transaction vÃ  ACID?&lt;/p&gt;
&lt;p&gt;Má»™t transaction lÃ  má»™t quÃ¡ trÃ¬nh xá»­ lÃ½ tá»« khi báº¯t Ä‘áº§u tá»›i khi káº¿t thÃºc thá»a mÃ£n bá»‘n tÃ­nh cháº¥t ACID. Bá»‘n chá»¯ Ä‘Ã³ viáº¿t táº¯t cá»§a bá»‘n tÃ­nh cháº¥t quan trá»ng sau:
Atomicity: tÃ­nh â€œnguyÃªn tá»­â€ cá»§a giao dá»‹ch. NghÄ©a lÃ  má»i giao dá»‹ch chá»‰ thÃ nh cÃ´ng khi táº¥t cáº£ cÃ¡c pháº§n thÃ nh cÃ´ng All or Nothings.
Consistency: tÃ­nh nháº¥t quÃ¡n. NghÄ©a lÃ  má»i dá»¯ liá»‡u Ä‘Æ°á»£c thao tÃ¡c Ä‘á»u nháº¥t quÃ¡n vá»›i táº¥t cáº£ cÃ¡c quy táº¯c (rules), cÃ¡c rÃ ng buá»™c (constraint)â€¦ trong toÃ n bá»™ quÃ¡ trÃ¬nh xá»­ lÃ½ tá»« khi báº¯t Ä‘áº§u tá»›i khi káº¿t thÃºc.
Isolation: tÃ­nh cÃ´ láº­p. NÃ³ Ä‘áº£m báº£o viá»‡c thá»±c thi Ä‘á»“ng thá»i cá»§a cÃ¡c giao dá»‹ch chá»‰ cÃ³ thá»ƒ cÃ³ káº¿t quáº£ khi cÃ¡c giao dá»‹ch Ä‘Æ°á»£c thá»±c hiá»‡n tuáº§n tá»±. VÃ­ dá»¥: hai giao dá»‹ch cÃ¹ng sá»­a má»™t table, thÃ¬ cÃ¡c giao dá»‹ch Ä‘Ã³ pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n tuáº§n tá»±, giao dá»‹ch nÃ y xong má»›i tá»›i giao dá»‹ch kia.
Durability: tÃ­nh bá»n. NghÄ©a lÃ  má»i giao dá»‹ch khi commit thÃ¬ káº¿t quáº£ nÃ³ pháº£i Ä‘Æ°á»£c Ä‘áº£m báº£o, cho dÃ¹ á»©ng dá»¥ng bá»‹ táº¯t, máº¥t Ä‘iá»‡n server.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-9-Ä‘á»‹nh-lÃ½-cap--cap-theorem&#34;&gt;Pháº§n 9: Äá»‹nh lÃ½ CAP / CAP Theorem&lt;/h2&gt;
&lt;p&gt;Äá»‹nh lÃ½ CAP nÃ³i ráº±ng má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n (distributed system) khÃ´ng thá»ƒ thá»a mÃ£n cáº£ ba yáº¿u tá»‘ CAP Ä‘Ã³ lÃ :&lt;/p&gt;
&lt;p&gt;Consistency: tÃ­nh nháº¥t quÃ¡n, táº¥t cáº£ cÃ¡c node pháº£i cÃ³ dá»¯ liá»‡u Ä‘á»“ng nháº¥t vá»›i nhau.
Availability: tÃ­nh sáºµn sÃ ng hoáº¡t Ä‘á»™ng cá»§a cÃ¡c node. Há»‡ thá»‘ng cÃ³ thá»ƒ váº«n hoáº¡t Ä‘á»™ng Ä‘Æ°á»£c khi má»™t sá»‘ node bá»‹ cháº¿t hoáº·c khÃ´ng sáºµn sÃ ng.
Partition Fault Tolerance: tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a há»‡ thá»‘ng khi Ä‘Æ°á»ng káº¿t ná»‘i (máº¡ng) giá»¯a cÃ¡c node bá»‹ Ä‘á»©t, hay cÃ²n gá»i lÃ  kháº£ nÄƒng chá»‹u lá»—i cá»§a há»‡ thá»‘ng. Há»‡ thá»‘ng váº«n pháº£i hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng cho dÃ¹ cÃ¡c káº¿t ná»‘i cá»§a cÃ¡c node trong há»‡ thá»‘ng bá»‹ Ä‘á»©t gÃ£y.&lt;/p&gt;
&lt;p&gt;Äá»‹nh luáº­t CAP
ChÃºng ta khÃ´ng thá»ƒ thiáº¿t káº¿ má»™t há»‡ thá»‘ng bao gá»“m cáº£ ba tÃ­nh CAP, bá»Ÿi vÃ¬ Ä‘áº£m báº£o tÃ­nh C (consistency) táº¥t cáº£ cÃ¡c cáº­p nháº­t dá»¯ liá»‡u pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn cÃ¡c node cÃ¹ng má»™t thá»i Ä‘iá»ƒm. NhÆ°ng náº¿u Ä‘Æ°á»ng káº¿t ná»‘i (máº¡ng) giá»¯a cÃ¡c node khÃ´ng Ä‘Æ°á»£c Ä‘áº£m báº£o dáº«n Ä‘áº¿n viá»‡c cÃ¡c node sáº½ khÃ´ng Ä‘Æ°á»£c update dá»¯ liá»‡u cÃ¹ng má»™t thá»i Ä‘iá»ƒm, Ä‘iá»u nÃ y dáº«n tá»›i viá»‡c má»™t vÃ i node dá»¯ liá»‡u sáº½ bá»‹ out-of-date do chÆ°a Ä‘Æ°á»£c cáº­p nháº­t dá»¯ liá»‡u tá»« Ä‘Ã³ vi pháº¡m tÃ­nh C (consistency). VÃ  Ä‘á»ƒ Ä‘áº£m báº£o Ä‘á»‘i phÃ³ vá»›i Ä‘iá»u nÃ y ta sáº½ ngá»«ng phá»¥c vá»¥ nhá»¯g node bá»‹ out-of-date Ä‘Ã³ cho tá»›i khi nÃ³ Ä‘Æ°á»£c update dá»¯ liá»‡u Ä‘áº§y Ä‘á»§, nhÆ°ng viá»‡c nÃ y láº¡i vi pháº¡m tÃ­nh A (availability) cá»§a há»‡ thá»‘ng.&lt;/p&gt;
&lt;p&gt;ThÃ´ng thÆ°á»ng, ngÆ°á»i ta thÆ°á»ng Ä‘Ã¡nh Ä‘á»•i yáº¿u tá»‘ C Ä‘á»ƒ láº¥y hai yáº¿u tá»‘ A vÃ  P. Khi Ä‘Ã³ há» sáº½ thay tháº¿ Consistency thÃ nh eventually consistency (tÃ­nh nháº¥t quÃ¡n cÃ³ Ä‘á»™ trá»…), lÃ m nhÆ° tháº¿ há»‡ thá»‘ng sáº½ cÃ³ hiá»‡u nÄƒng tá»‘t hÆ¡n&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-10-consistent-hashing&#34;&gt;Pháº§n 10: Consistent Hashing&lt;/h2&gt;
&lt;p&gt;NhÆ° Ä‘Ã£ nháº¯c Ä‘áº¿n ráº¥t nhiá»u láº§n bÃªn trÃªn thÃ¬ Distributed Hash Table (DHT â€” Báº£ng bÄƒm phÃ¢n tÃ¡n) lÃ  má»™t thÃ nh pháº§n cÆ¡ báº£n trong nhá»¯ng distributed scalable systems (há»‡ thá»‘ng phÃ¢n tÃ¡n cÃ³ kháº£ nÄƒng má»Ÿ rá»™ng). Má»™t Hash Table cáº§n má»™t cáº·p key-value, vÃ  má»™t hÃ m â€œhashâ€ Ä‘á»ƒ map key vá»›i vá»‹ trÃ­ mÃ  value cá»§a nÃ³ Ä‘Æ°á»£c lÆ°u trá»¯.&lt;/p&gt;
&lt;p&gt;index = hash_function(key)&lt;/p&gt;
&lt;p&gt;Giáº£ sá»­ ta cÃ³ thiáº¿t káº¿ má»™t distributed caching system (Redis cache cháº³ng háº¡n). ChÃºng ta cÃ³ â€œnâ€ cache servers, thÃ¬ hÃ m bÄƒm (hash function) Ä‘á»ƒ map key vá»›i vá»‹ trÃ­ cá»§a Cach server nÃ³ lÃ m á»Ÿ Ä‘Ã¢u sáº½ lÃ  key % n. NÃ³ ráº¥t Ä‘Æ¡n giáº£n vÃ  dá»… sá»­ dá»¥ng, tuy nhiÃªn nÃ³ cÃ³ hai nhÆ°á»£c Ä‘iá»ƒm chÃ­nh lÃ :&lt;/p&gt;
&lt;p&gt;NÃ³ ráº¥t khÃ³ horizontally scalable (phÃ¢n tÃ¡n theo chiá»u ngang). Bá»Ÿi vÃ¬ má»—i láº§n má»™t cache server má»›i Ä‘Æ°á»£c thÃªm vÃ o LB, má»i mapping trÆ°á»›c khia giá»¯a key vá»›i value nÃ³ Ä‘Æ°á»£c lÆ°u trá»¯ á»Ÿ Ä‘Ã¢u sáº½ sai toÃ©t háº¿t. Hiá»‡n tÆ°á»£ng cache miss sáº½ sáº©y ra trÃ n lan vÃ  ráº¥t máº¥t thá»i gian vÃ  khÃ³ khÄƒn Ä‘á»ƒ cáº­p nháº­t táº¥t cáº£ cÃ¡c mapping key-value, vá»›i má»™t há»‡ thá»‘ng lá»›n vá»›i sá»‘ lÆ°á»£ng caching data khá»•ng lá»“ Ä‘Ã¢y lÃ  má»™t Ä‘iá»ƒm Ã¡c má»™ng vá»›i nhá»¯ng ngÆ°á»i quáº£n lÃ½ dá»¯ liá»‡u.
NÃ³ cÃ³ thá»ƒ khÃ´ng Ä‘Ã¡p á»©ng Ä‘Æ°á»£c viá»‡c cÃ¢n báº±ng táº£i (Load Balanced), bá»Ÿi vÃ¬ ta khÃ´ng thá»ƒ cháº¯c cháº¯n ráº±ng viá»‡c hash vÃ  mapping nhÆ° váº­y nhá»¯ng data Ä‘Æ°á»£c lÆ°u trá»¯ á»Ÿ cÃ¡c server khÃ¡c nhau cÃ³ Ä‘á»™ truy cáº­p cÃ³ cÃ¢n báº±ng nhau khÃ´ng? Ráº¥t cÃ³ thá»ƒ nhá»¯ng data Ã­t Ä‘Æ°á»£c truy cáº­p cÃ³ thá»ƒ táº­p chung vÃ o má»™t vÃ i server vÃ  vÃ i server cÃ²n láº¡i láº¡i chá»©a nhá»¯ng â€œhot keyâ€, dáº«n tá»›i tÃ¬nh trang má»™t vÃ i server thÃ¬ hoáº¡t Ä‘á»™ng háº¿t cÃ´ng xuáº¥t, má»™t vÃ i server thÃ¬ láº¡i quÃ¡ nhÃ n rá»—i ngá»“i chÆ¡i khÃ´ng ğŸ˜™.
Vá»›i nhá»¯ng váº¥n Ä‘á» nhÆ° váº­y thÃ¬ Consistent Hashing lÃ  má»™t giáº£i phÃ¡p ráº¥t tá»‘t Ä‘á»ƒ cáº£i tiáº¿n viá»‡c chia server vá»›i cÃ¡c caching system.&lt;/p&gt;
&lt;p&gt;Consistent Hashing giáº£i quyáº¿t váº¥n Ä‘á» nÃ y nhÆ° tháº¿ nÃ o ?
Consistent Hashing lÃ  má»™t chiáº¿n thuáº­t hiá»‡u quáº£ cho viá»‡c phÃ¢n chia distributed caching systems vÃ  DHT. NÃ³ cho phÃ©p viá»‡c thÃªm hay xÃ³a cÃ¡c node trÃªn má»™t cá»¥m server (cluster) mÃ  Ã­t gÃ¢y ra sá»± xÃ¡o trá»™n dá»¯ liá»‡u, do Ä‘Ã³ nÃ³ cÃ¡c há»‡ thá»‘ng caching system sáº½ dá»… dÃ ng scale-up hay scale down.&lt;/p&gt;
&lt;p&gt;Trong Consistent Hashing, khi báº£ng bÄƒm (hash table) thay Ä‘á»•i kÃ­ch thÆ°á»›c (vÃ­ dá»¥ thÃªm má»™t node vÃ  cluster), chá»‰ cÃ³ â€œk/nâ€ keys cáº§n re-map vá»›i â€œkâ€ lÃ  tá»•ng sá»‘ keys cÃ³ trong há»‡ thá»‘ng, vÃ  â€œnâ€ lÃ  tá»•ng sá»‘ server. CÃ³ nghÄ©a lÃ  khi thay Ä‘á»•i kÃ­ch thÆ°á»›c cá»§a cluster thÃ¬ cÃ³ duy nháº¥t keys trÃªn má»™t server cáº§n pháº£i re-map. VÃ  khi má»™t node bá»‹ xÃ³a khá»i cluster, thÃ¬ cÃ¡c data cá»§a node Ä‘Ã³ sáº½ Ä‘Æ°á»£c di chuyá»ƒn vÃ  chia sáº» vá»›i cÃ¡c node khÃ¡c, vÃ  cÅ©ng tÆ°Æ¡ng tá»± khi má»™t node Ä‘Æ°á»£c thÃªm vÃ o cluster thÃ¬ nÃ³ sáº½ láº¥y tá»± Ä‘á»™ng dá»¯ liá»‡u tá»« má»™t vÃ i node khÃ¡c Ä‘á»ƒ chia sáº» tÃ i nguyÃªn.&lt;/p&gt;
&lt;p&gt;Consistent Hashing hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o?
Váº­y lÃ m tháº¿ nÃ o Ä‘á»ƒ Consistent Hashing lÃ m Ä‘Æ°á»£c nhá»¯ng Ä‘iá»u trÃªn thÃ¬ cÃ¡c Node trÃªn cluster sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i dáº¡ng vÃ²ng trÃ²n báº±ng cÃ¡ch sá»­ dá»¥ng hash function trong Consisten Hashing sáº½ hash cÃ¡c key thÃ nh má»™t má»™t sá»‘ nguyÃªn (Integer) náº±m trong má»™t khoáº£ng nÃ o Ä‘Ã³ vÃ  cÃ¡c sá»‘ nguyÃªn Ä‘Ã³ sáº½ Ä‘Æ°á»£c Ä‘áº·t trÃªn má»™t vÃ²ng trÃ²n sao cho má»—i Ä‘iá»ƒm trÃªn vÃ²ng trÃ²n sáº½ tÆ°Æ¡ng á»©ng vá»›i má»™t sá»‘ nguyÃªn trÃªn dÃ£y sá»‘ nguyÃªn Ä‘Ã³.&lt;/p&gt;
&lt;p&gt;TÃ³m láº¡i cÃ¡c bÆ°á»›c Ä‘á»ƒ Consistent Hashing bÄƒm dá»¯ liá»‡u nhÆ° sau:&lt;/p&gt;
&lt;p&gt;Tiáº¿n hÃ nh hash cÃ¡c danh sÃ¡ch node trong cluster server thÃ nh má»™t sá»‘ nguyÃªn trong má»™t khoáº£ng sá»‘ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÆ°á»›c. Khoáº£ng sá»‘ nÃ y tÃ¹y vÃ o ngÆ°á»i thiáº¿t káº¿ há»‡ thá»‘ng cÃ¢n nháº¯c dá»±a trÃªn sá»‘ lÆ°á»£ng Server tá»‘i Ä‘a mÃ  há»‡ thá»‘ng sáºµn sÃ ng scale up.
Sau khi Ä‘Ã£ cÃ³ danh sÃ¡ch mapping giá»¯a cÃ¡c node, ta sáº½ tiáº¿n hÃ nh mapping key cá»§a data tá»›i cÃ¡c node báº±ng cÃ¡ch.
Hash giÃ¡ trá»‹ cá»§a key thÃ nh má»™t sá»‘ nguyÃªn (integer).
Di chuyá»ƒn nÃ³ liÃªn tá»¥c trong vÃ²ng trÃ²n sá»‘ nguyÃªn trong khoáº£ng Ä‘Ã£ táº¡o á»Ÿ trÃªn theo chiá»u kim Ä‘á»“ng há»“ cho tá»›i khi giÃ¡ trá»‹ integer Ä‘Ã³ báº±ng vá»›i giÃ¡ trá»‹ hash key cá»§a má»™t Node Ä‘áº§u tiÃªn nÃ³ gáº·p. Tiáº¿n hÃ nh ghi dá»¯ liá»‡u cá»§a dá»¯ liá»‡u Ä‘Ã³ vÃ o Node vá»«a gáº·p.&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh vÃ²ng trÃ²n trong Consistent Hashing
Do Ä‘Ã³ khi tiáº¿n hÃ nh thÃªm má»™t Node vÃ o Cluster Server thÃ¬ dá»¯ liá»‡u Node gáº§n nÃ³ nháº¥t theo chiá»u kim Ä‘á»“ng há»“ sáº½ Ä‘Æ°á»£c chia sáº» vá»›i Node má»›i thÃªm vÃ o.&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh Consisten Hashing vá»›i trÆ°á»ng há»£p thÃªm má»›i Node
TÆ°Æ¡ng tá»± nhÆ° viá»‡c xÃ³a má»™t Node trÃªn Cluster, khi cache miss sáº©y ra, dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c di chuyá»ƒn, lÆ°u vÃ  láº¥y tá»« Node káº¿ cáº­n nháº¥t vá»›i Node Ä‘Ã£ xÃ³a theo chiá»u kim Ä‘á»“ng há»“.&lt;/p&gt;
&lt;p&gt;MÃ´ hÃ¬nh Consisten Hashing vá»›i trÆ°á»ng há»£p xÃ³a má»›i má»™t Node
NhÆ° váº­y, Consistent Hashing Ä‘Ã£ giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» xÃ¡o trá»™n data cache khi scale há»‡ thá»‘ng theo chiá»u ngang, Ä‘áº£m báº£o sá»± xÃ¡o trá»™n cache chá»‰ xáº£y ra vá»›i má»™t server.&lt;/p&gt;
&lt;p&gt;Váº¥n Ä‘á» vá» phÃ¢n phá»‘i Ä‘á»u data trÃªn tá»«ng Node.
BÃªn trÃªn chÃºng ta cÅ©ng Ä‘Ã£ Ä‘á» cáº­p vá» váº¥n Ä‘á» Load Balancing, vá»›i dá»¯ liá»‡u tháº­t thÃ¬ kháº£ nÄƒng nhiá»u data key Ä‘á»u Ä‘Æ°á»£c hash vÃ o má»™t dÃ£y giÃ¡ trá»‹ lÆ°u trÃªn má»™t Node nÃ o Ä‘Ã³, khiáº¿n Node Ä‘Ã³ trá»Ÿ thÃ nh Ä‘iá»ƒm nÃ³ng (hot spot) so vá»›i cÃ¡c server cÃ²n láº¡i. Dáº«n Ä‘áº¿n viá»‡c lá»‡ch cÃ¢n báº±ng táº£i vÃ  rá»§i ro náº¿u node hot spot gáº·p sá»± cá»‘, gáº§n nhÆ° toÃ n bá»™ cache sáº½ bá»‹ máº¥t, dáº«n tá»›i cache miss hÃ ng loáº¡t.&lt;/p&gt;
&lt;p&gt;Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta sáº½ thá»±c hiá»‡n hash vÃ  thÃªm nhiá»u cÃ¡c Node áº£o (virtual node) vÃ o vÃ²ng trÃ²n. VÃ  thay vÃ¬ viá»‡c chá»‰ mapping má»—i Node vÃ o má»™t Ä‘iá»ƒm trÃªn vÃ²ng trÃ²n, má»—i node áº£o tÆ°á»£ng trÆ°ng cho má»™t dÃ£y giÃ¡ trá»‹ mÃ  má»™t Node tháº­t Ä‘áº£m nhiá»‡m. CÃ³ nghÄ©a lÃ  má»—i Node tháº­t sáº½ lÆ°u trá»¯ dá»¯ liá»‡u Ä‘Æ°á»£c Ã¡nh xáº¡ trÃªn nhiá»u Virtual Node. Äiá»u nÃ y sáº½ lÃ m cho viá»‡c phÃ¢n phá»‘i key sáº½ cÃ¢n báº±ng hÆ¡n, nÃ³ giá»‘ng vá»›i viá»‡c táº¡o ra nhiá»u Node con hÆ¡n cho hash function trong Consistent Hashing bÄƒm â€œnhuyá»…nâ€ hÆ¡n ğŸ˜ƒ&lt;/p&gt;
&lt;p&gt;VÃ­ dá»¥ ta cÃ³ 3 Node trÃªn Cluster, ta sáº½ táº¡o thÃªm 3 virtual Node tÆ°Æ¡ng á»©ng, lÃºc nÃ y vÃ²ng trÃ²n sáº½ chia thÃ nh 6 Ä‘iá»ƒm nhÆ° trÃªn hÃ¬nh váº½. Má»—i Virtual Node sáº½ Ã¡nh xáº¡ tá»›i cÃ¡c Node tháº­t, nhÆ° trong hÃ¬nh lÃ  Virutal Node máº§u Ä‘á» ğŸ”´ sáº½ áº£nh xáº¡ tá»›i Real Node máº§u Ä‘á» ğŸ”´, Virutal Node máº§u xanh nÆ°á»›c biá»ƒn ğŸ”µ sáº½ Ã¡nh xáº¡ tá»›i Real Node máº§u xanh nÆ°á»›c biá»ƒn ğŸ”µ , tÆ°Æ¡ng tá»± vá»›i Virtual Nod máº§u xanh nháº¡t. Do váº­y vá»›i Node ğŸ”´ nÃ³ sáº½ chá»©a dá»¯ liá»‡u cá»§a khoáº£ng 1 vÃ  4 Node ğŸ”µ sáº½ chá»©a dá»¯ liá»‡u cá»§a 2 vÃ  5, tÆ°Æ¡ng tá»± Node cÃ²n láº¡i sáº½ chá»©a dá»¯ liá»‡u cá»§a 0 vÃ  6.&lt;/p&gt;
&lt;p&gt;Virtual Node trÃªn Consistent Hashing
Consistent Hashing Ä‘Æ°á»£c á»©ng dá»¥ng ráº¥t rá»™ng rÃ£i ná»•i báº­t nháº¥t lÃ  DynamoDB vÃ  Cassandra Ä‘Ã£ á»©ng dá»¥ng nÃ³ vÃ o viá»‡c replicate dá»¯ liá»‡u giá»¯a cÃ¡c Server Node cá»§a nÃ³.&lt;/p&gt;
&lt;h2 id=&#34;pháº§n-11-long-polling-vs-websockets-vs-server-sent-events&#34;&gt;Pháº§n 11: Long-Polling vs WebSockets vs Server-Sent Events&lt;/h2&gt;
&lt;p&gt;Long-polling, WebSockets hay Server-Sent lÃ  nhá»¯ng cÃ¡ch giao tiáº¿p phá»• biáº¿n giá»¯a Client vÃ  Server vÃ­ dá»¥ nhá»¯ng giá»¯a Web-Browser vÃ  Web-Server. Äáº§u tiÃªn ta hÃ£y Ä‘i tÃ¬m hiá»ƒu vá» HTTP vÃ  cÃ¡c bÆ°á»›c cá»§a nÃ³ trÃªn mÃ´i trÆ°á»ng Web nhÆ° tháº¿ nÃ o.&lt;/p&gt;
&lt;p&gt;Client sáº½ má»Ÿ ra má»™t káº¿t ná»‘i (connection) Ã  yÃªu cáº§u (request) dá»¯ liá»‡u tá»« Server
Server sáº½ nháº­n yÃªu cáº§u vÃ  tÃ­nh toÃ¡n káº¿t quáº£ tráº£ vá»
Server sáº½ tráº£ vá» (response) káº¿t quáº£ cho Client vá»«a má»Ÿ connection Ä‘Ã³&lt;/p&gt;
&lt;p&gt;Ajax Polling:
Polling lÃ  má»™t ká»¹ thuáº­t Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c á»©ng dá»¥ng AJAX, Ã½ tÆ°á»Ÿng cá»§a nÃ³ lÃ  client sáº½ liÃªn tá»¥c gá»i tá»›i server Ä‘á»ƒ yÃªu cáº§u dá»¯ liá»‡u má»›i (polls/requests data). Client sáº½ táº¡o ra má»™t request vÃ  Ä‘á»£i káº¿t quáº£ tráº£ vá» tá»« Server, náº¿u Server khÃ´ng tÃ¬m tháº¥y hoáº·c tráº£ káº¿t quáº£ vá» hoáº·c káº¿t quáº£ lÃ  rá»—ng (empty), thÃ¬ má»™t empty response sáº½ Ä‘Æ°á»£c gá»­i vá».&lt;/p&gt;
&lt;p&gt;Client sáº½ má»Ÿ má»™t connection vÃ  request dá»¯ liá»‡u tá»« Server thÃ´ng qua cá»•ng káº¿t ná»‘i HTTP.
Nhá»¯ng request trÃªn sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n Server theo Ä‘á»‹nh ká»³ (intervals), vÃ­ dá»¥ má»—i 1 giÃ¢y sáº½ cÃ³ má»™t request gá»­i Ä‘i.
Server sáº½ tÃ­nh toÃ¡n vÃ  tráº£ vá» dá»¯ liá»‡u cÅ©ng thÃ´ng qua káº¿t ná»‘i HTTP.
Client sáº½ láº·p láº¡i cáº£ 3 bÆ°á»›c trÃªn Ä‘á»ƒ liÃªn tá»¥c cáº­p nháº­t Ä‘Æ°á»£c dá»¯ liá»‡u má»›i nháº¥t tá»« Server.&lt;/p&gt;
&lt;p&gt;Váº¥n Ä‘á» cá»§a Ajax Polling lÃ  Client pháº£i liÃªn tá»¥c gá»­i request tá»›i Server, do Ä‘Ã³ sáº½ táº¡o ra ráº¥t nhiá»u request vá»›i khÃ´ng cÃ³ response nÃ o tráº£ vá», gÃ¢y lÃ£ng phÃ­ HTTP traffic cá»§a há»‡ thá»‘ng.&lt;/p&gt;
&lt;p&gt;HTTP Long-Polling
ÄÃ¢y lÃ  má»™t biáº¿n thá»ƒ cá»§a HTTP Polling truyá»n thá»‘ng báº±ng cÃ¡ch cho phÃ©p Server chá»§ Ä‘á»™ng Ä‘áº©y (push) thÃ´ng tin tá»›i Client khi cÃ³ dá»¯ liá»‡u má»›i, báº±ng cÃ¡ch Client sáº½ gá»­i request tá»›i Server mÃ  khÃ´ng cáº§n Server pháº£i tráº£ dá»¯ liá»‡u vá» ngay láº­p tá»©c mÃ  sáº½ lÃ m theo logic nhÆ° bÃªn dÆ°á»›i:&lt;/p&gt;
&lt;p&gt;Náº¿u Server khÃ´ng cÃ³ dá»¯ liá»‡u má»›i, thay vÃ¬ khÃ´ng tráº£ vá» hay tráº£ vá» dá»¯ liá»‡u rá»—ng, vÃ¬ Server sáº½ giá»¯ request Ä‘Ã³ vÃ  Ä‘á»£i cho tá»›i khi cÃ³ dá»¯ liá»‡u má»›i vá».
Khi dá»¯ liá»‡u Ä‘Ã£ sáºµn sÃ ng thÃ¬ Server sáº½ gá»­i tráº£ (response) vá» cho Client. Ngay lÃºc Ä‘Ã³ Client láº¡i tiáº¿p tá»¥c gá»­i má»™t request tá»›i Server, vÃ¬ tháº¿ á»Ÿ phÃ­a Server sáº½ luÃ´n luÃ´n cÃ³ má»™t request mÃ  nÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ luÃ´n cáº­p nháº­t dá»¯ liá»‡u vá» phÃ­a Client.
VÃ  má»™t vÃ²ng Ä‘á»i cá»§a má»™t HTTP Long-Polling sáº½ nhÆ° sau:&lt;/p&gt;
&lt;p&gt;Client táº¡o má»™t HTTP request vá» phÃ­a Server vÃ  chá» Ä‘á»£i tá»›i khi cÃ³ response tráº£ vá».
Server sáº½ chá» cho tá»›i khi cÃ³ dá»¯ liá»‡u tráº£ vá» hoáº·c quÃ¡ thá»i gian time-out.
Khi cÃ³ dá»¯ liá»‡u Server sáº½ tráº£ vá» cho Client (HTTP respone)
Client sau khi nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u tráº£ vá» hoáº·c quÃ¡ time-out sáº½ gá»­i tiáº¿p má»™t HTTP Long-Polling Ä‘áº¿n Server. LÃºc nÃ y sáº½ cÃ³ má»™t khoáº£ng thá»i gian trá»… giá»¯a lÃºc client nháº­n vÃ  gá»­i request má»›i, nhÆ°ng thá»i gian trá»… nÃ y táº¡m cháº¥p nháº­nd Ä‘Æ°á»£c.
Má»—i HTTP Long-Polling sáº½ cÃ³ má»™t khoáº£ng time-out, náº¿u quÃ¡ thá»i time-out connection sáº½ Ä‘Ã³ng láº¡i vÃ  má»Ÿ láº¡i má»™t connection má»›i.&lt;/p&gt;
&lt;p&gt;Web-socket
Websocket lÃ  giao thá»©c chuáº©n cho trao Ä‘á»•i dá»¯ liá»‡u hai chiá»u giá»¯a client vÃ  server hay cÃ²n gá»i lÃ  kÃªnh Full Duplex. Giao thá»©c WebSocket khÃ´ng cháº¡y trÃªn HTTP, thay vÃ o Ä‘Ã³ nÃ³ thá»±c hiá»‡n trÃªn giao thá»©c TCP.&lt;/p&gt;
&lt;p&gt;NÃ³ cung cáº¥p má»™t phÆ°Æ¡ng thá»©c liÃªn tá»¥c giá»¯a Client vÃ  Server mÃ  cáº£ hai bÃªn cÃ³ thá»ƒ gá»­i dá»¯ liá»‡u cho nhau báº¥t ká»³ lÃºc nÃ o. Client káº¿t ná»‘i vá»›i Server thÃ´ng qua Websocket báº±ng má»™t cÃº báº¯t tay (WebSocket handshake), náº¿u nÃ³ thÃ nh cÃ´ng thÃ¬ dá»¯ liá»‡u cÃ³ thá»ƒ Ä‘Æ°á»£c trao Ä‘á»•i tá»« hai hÆ°á»›ng báº¥t ká»³ lÃºc nÃ o.&lt;/p&gt;
&lt;p&gt;NgÆ°á»i ta thÆ°á»ng dÃ¹ng Websocket thay vÃ¬ HTTP cho nhá»¯ng trÆ°á»ng há»£p yÃªu cáº§u real time (thá»i gian thá»±c) bá»Ÿi vÃ¬ gÃ³i tin cá»§a WebSockets nháº¹ hÆ¡n HTTP ráº¥t nhiá»u, giáº£m Ä‘á»™ trá»… cá»§a network vÃ  khÃ´ng cáº§n pháº£i gá»­i request liÃªn tiáº¿p nhÆ° HTTP.&lt;/p&gt;
&lt;p&gt;Äiá»u nÃ y Ä‘Æ°á»£c hiá»‡n thá»±c báº±ng cung cáº¥p mÃ´t chuáº©n hÃ³a truyá»n tin giá»¯a Server vÃ  client thÃ´ng qua cá»•ng ws:// hoáº·c wss:// cÃ³ thÃªm báº£o máº­t. VÃ  dá»¯ liá»‡u truyá»n Ä‘i cháº¥p nháº­n kiá»ƒu String vÃ  Binary Type ( large objects (blobs), ArrayBuffers)&lt;/p&gt;
&lt;p&gt;Server-Sent Events (SSEs)
SSEs cÅ©ng gáº§n giá»‘ng vá»›i Long-Polling nhÆ°ng khÃ¡c lÃ  connection sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ (persistent) sá»­ dá»¥ng cho má»™t thá»i gian dÃ i (long-terms) mÃ  khÃ´ng cÃ³ time-out vÃ  chá»‰ cÃ³ Server sáº½ sá»­ dá»¥ng connection nÃ y Ä‘á»ƒ gá»­i dá»¯ liá»‡u vá» cho Client, vÃ  client chá»‰ cÃ³ request (GET) dá»¯ liá»‡u mÃ  khÃ´ng Ä‘Æ°á»£c phÃ©p gá»­i dá»¯ liá»‡u (POST) lÃªn Server.&lt;/p&gt;
&lt;p&gt;VÃ²ng Ä‘á»i cá»§a cá»§a SSEs&lt;/p&gt;
&lt;p&gt;Client yÃªu cáº§u lá»¯ liá»‡u tá»« Server sá»­ dá»¥g káº¿t ná»‘i HTTP thÃ´ng thÆ°á»ng.
Connection giá»¯a client vÃ  server sáº½ Ä‘Æ°á»£c má»Ÿ vÃ  duy trÃ¬.
Báº¥t ká»³ khi nÃ o mÃ¡y chá»§ sáº½ gá»­i dá»¯ liá»‡u tá»›i Client báº¥t cá»© khi nÃ o cÃ³ thÃ´ng tin má»›i.
SSEs cÅ©ng giá»‘ng WebSocket lÃ  thÃ­ch há»£p vá»›i cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c (real time) nhÆ°ng khÃ¡c lÃ  SSEs chá»‰ lÃ  má»™t chiá»u (Half duplex) giá»¯a Server tá»›i Client.&lt;/p&gt;
&lt;p&gt;~ Háº¿t ~&lt;/p&gt;
&lt;p&gt;Nguá»“n tham kháº£o: &lt;a class=&#34;link&#34; href=&#34;https://www.educative.io/courses/grokking-the-system-design-interview&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;/a&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
</description>
        </item>
        <item>
        <title>System Design Project</title>
        <link>https://truongnh28.github.io/p/system-design-project/</link>
        <pubDate>Sat, 14 May 2022 00:00:00 +0000</pubDate>
        
        <guid>https://truongnh28.github.io/p/system-design-project/</guid>
        <description>&lt;img src="https://truongnh28.github.io/p/system-design-project/system_design.png" alt="Featured image of post System Design Project" /&gt;&lt;h2 id=&#34;Ä‘á»-bÃ i-thiáº¿t-káº¿-má»™t-há»‡-thá»‘ng-web-blog-vá»›i-kháº£-nÄƒng-chá»‹u-táº£i-10000-request-trÃªn-giÃ¢y&#34;&gt;Äá» bÃ i: Thiáº¿t káº¿ má»™t há»‡ thá»‘ng web blog vá»›i kháº£ nÄƒng chá»‹u táº£i 10000 request trÃªn giÃ¢y.&lt;/h2&gt;
&lt;h2 id=&#34;bÃ i-lÃ m&#34;&gt;BÃ i lÃ m&lt;/h2&gt;
&lt;h3 id=&#34;phÃ¡t-tháº£o-cÃ¡c-trÆ°á»ng-há»£p-sá»­-dá»¥ng-vÃ -cÃ¡c-rÃ ng-buá»™c&#34;&gt;PhÃ¡t tháº£o cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng vÃ  cÃ¡c rÃ ng buá»™c&lt;/h3&gt;
&lt;h4 id=&#34;trÆ°á»ng-há»£p-sá»­-dá»¥ng&#34;&gt;TrÆ°á»ng há»£p sá»­ dá»¥ng&lt;/h4&gt;
&lt;p&gt;Ta sáº½ giáº£i quyáº¿t cÃ¡c trÆ°á»ng há»£p sau:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NgÆ°á»i dÃ¹ng thá»±c hiá»‡n yÃªu cáº§u Ä‘á»c hoáº·c ghi
&lt;ul&gt;
&lt;li&gt;Dá»‹ch vá»¥ xá»­ lÃ½, lÆ°u trá»¯ dá»¯ liá»‡u ngÆ°á»i dÃ¹ng sau Ä‘Ã³ tráº£ káº¿t quáº£.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Há»‡ thá»‘ng cÃ³ tÃ­nh chá»‹u táº£i lá»›n.&lt;/li&gt;
&lt;li&gt;Há»‡ thá»‘ng cÃ³ tÃ­nh kháº£ dá»¥ng cao.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;háº¡n-cháº¿-vÃ -giáº£-Ä‘á»‹nh&#34;&gt;Háº¡n cháº¿ vÃ  giáº£ Ä‘á»‹nh&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Giáº£ Ä‘á»‹nh tráº¡ng thÃ¡i&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LÆ°u lÆ°á»£ng truy cáº­p phÃ¢n bá»‘ khÃ´ng Ä‘á»“ng Ä‘á»u.&lt;/li&gt;
&lt;li&gt;Cáº§n cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡.&lt;/li&gt;
&lt;li&gt;Quy mÃ´ tá»« 1 Ä‘áº¿n hÃ ng triá»‡u ngÆ°á»i dÃ¹ng.&lt;/li&gt;
&lt;li&gt;1 triá»‡u ngÆ°á»i dÃ¹ng.&lt;/li&gt;
&lt;li&gt;1 triá»‡u lÆ°á»£t viáº¿t má»—i thÃ¡ng.&lt;/li&gt;
&lt;li&gt;500 triá»‡u lÆ°á»£t Ä‘á»c má»—i thÃ¡ng&lt;/li&gt;
&lt;li&gt;Tá»· lá»‡ Ä‘á»c ghi lÃ : 500 : 1&lt;/li&gt;
&lt;li&gt;Dung lÆ°á»£ng khoáº£ng 500kb&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TÃ­nh toÃ¡n má»©c sá»­ dá»¥ng&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;476 GB ná»™i dung má»—i thÃ¡ng.
&lt;ul&gt;
&lt;li&gt;500 KB * 1000000 láº§n ghi má»—i thÃ¡ng.&lt;/li&gt;
&lt;li&gt;Giáº£ sá»­ háº§u háº¿t cÃ¡c bÃ i viáº¿t lÃ  ná»™i dung má»›i thay vÃ¬ cáº­p nháº­t nhá»¯ng ná»™i dung Ä‘Ã£ cÃ³.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Trung bÃ¬nh 10 giÃ¢y thÃ¬ cÃ³ 4 láº§n viáº¿t.&lt;/li&gt;
&lt;li&gt;Trung bÃ¬nh 1 giÃ¢y thÃ¬ cÃ³ 200 láº§n Ä‘á»c.&lt;/li&gt;
&lt;li&gt;10000 request má»—i giÃ¢y -&amp;gt; 25000000000 request má»—i thÃ¡ng.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;thiáº¿t-káº¿-á»Ÿ-má»©c-cao-hÆ¡n&#34;&gt;Thiáº¿t káº¿ á»Ÿ má»©c cao hÆ¡n&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://truongnh28.github.io/p/system-design-project/basic_architechture.png&#34;
	width=&#34;401&#34;
	height=&#34;281&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-project/basic_architechture_hu32418e4422083833936aa38319430550_14227_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-project/basic_architechture_hu32418e4422083833936aa38319430550_14227_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Báº£n thiáº¿t káº¿ vá»›i sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng nhá»&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;142&#34;
		data-flex-basis=&#34;342px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;thiáº¿t-káº¿-cÃ¡c-thanh-pháº§n-cá»‘t-lÃµi&#34;&gt;Thiáº¿t káº¿ cÃ¡c thanh pháº§n cá»‘t lÃµi&lt;/h3&gt;
&lt;p&gt;NgÆ°á»i dÃ¹ng yÃªu cáº§u Ä‘á»c hoáº·c ghi.&lt;/p&gt;
&lt;p&gt;Vá»›i sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng nhá»:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chá»‰ cáº§n má»™t Web Server duy nháº¥t.&lt;/li&gt;
&lt;li&gt;CÃ³ thá»ƒ dÃ¹ng vertical scaling khi cáº§n thiáº¿t.&lt;/li&gt;
&lt;li&gt;GiÃ¡m sÃ¡t Ä‘á»ƒ xá»­ lÃ½ há»‡ thá»‘ng náº¿u xáº£y ra hiá»‡n tÆ°á»£ng táº¯t ngháº½n.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;Má»™t Web Server duy nháº¥t:
&lt;ul&gt;
&lt;li&gt;LÆ°u trá»¯ dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng.&lt;/li&gt;
&lt;li&gt;Xá»­ lÃ½ cÃ¡c yÃªu cáº§u.&lt;/li&gt;
&lt;li&gt;LÆ°u trá»¯ database MySQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Sá»­ dá»¥ng vertical scaling:
&lt;ul&gt;
&lt;li&gt;ÄÆ¡n giáº£n chá»‰ cáº§n chá»n má»™t há»™p lá»›n hÆ¡n.&lt;/li&gt;
&lt;li&gt;Theo dÃµi cÃ¡c chá»‰ sá»‘ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡ch má»Ÿ rá»™ng quy mÃ´.&lt;/li&gt;
&lt;li&gt;Sá»­ dá»¥ng giÃ¡m sÃ¡t cÆ¡ báº£n Ä‘á»ƒ xÃ¡c Ä‘á»‹nh táº¯c ngháº½n: CPU, bá»™ nhá»›, IO, máº¡ng, v.v.&lt;/li&gt;
&lt;li&gt;Má»Ÿ rá»™ng quy mÃ´ theo chiá»u dá»c cÃ³ thá»ƒ ráº¥t tá»‘n kÃ©m.&lt;/li&gt;
&lt;li&gt;KhÃ´ng cÃ³ backup.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL:
&lt;ul&gt;
&lt;li&gt;CÃ¡c rÃ ng buá»™c cáº§n cÃ³ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡.&lt;/li&gt;
&lt;li&gt;DÃ¹ng MySQL chung trÃªn Web Server.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DNS
&lt;ul&gt;
&lt;li&gt;GÃ¡n IP cá»§a Web Server vá»›i má»™t tÃªn miá»n.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Báº£o máº­t Web Server
&lt;ul&gt;
&lt;li&gt;Chá»‰ má»Ÿ cÃ¡c cá»•ng cáº§n thiáº¿t.
&lt;ul&gt;
&lt;li&gt;Cho phÃ©p mÃ¡y chá»§ web pháº£n há»“i cÃ¡c yÃªu cáº§u Ä‘áº¿n tá»«:
&lt;ul&gt;
&lt;li&gt;80 cho HTTP.&lt;/li&gt;
&lt;li&gt;443 cho HTTPS.&lt;/li&gt;
&lt;li&gt;22 cho SSH Ä‘áº¿n chá»‰ cÃ¡c IP cÃ³ trong danh sÃ¡ch cho phÃ©p.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NgÄƒn Web Server cÃ³ cÃ¡c káº¿t ná»‘i ra.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;má»Ÿ-rá»™ng-thiáº¿t-káº¿&#34;&gt;Má»Ÿ rá»™ng thiáº¿t káº¿&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://truongnh28.github.io/p/system-design-project/system_design-scaling.png&#34;
	width=&#34;701&#34;
	height=&#34;721&#34;
	srcset=&#34;https://truongnh28.github.io/p/system-design-project/system_design-scaling_hucc49a3efe87e1b89fcf43d7df7336250_83501_480x0_resize_box_3.png 480w, https://truongnh28.github.io/p/system-design-project/system_design-scaling_hucc49a3efe87e1b89fcf43d7df7336250_83501_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Báº£n thiáº¿t káº¿ vá»›i sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng lá»›n&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;97&#34;
		data-flex-basis=&#34;233px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Má»Ÿ rá»™ng Web Server theo horizontal scaling.
&lt;ul&gt;
&lt;li&gt;Sá»­ dá»¥ng nhiá»u Web Server.&lt;/li&gt;
&lt;li&gt;ThÃªm cÃ¡c Load Balancer nhÆ° HAProxy.&lt;/li&gt;
&lt;li&gt;Má»Ÿ rá»™ng SQL theo dáº¡ng phÃ¢n tÃ¡n.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ta sá»­ dá»¥ng CDN
&lt;ul&gt;
&lt;li&gt;Sá»­ dá»¥ng Object Store Ä‘á»ƒ quáº£n lÃ½ ná»™i dung tÄ©nh.
&lt;ul&gt;
&lt;li&gt;Kháº£ nÄƒng má»Ÿ rá»™ng cao vÃ  Ä‘Ã¡ng tin cáº­y.&lt;/li&gt;
&lt;li&gt;MÃ£ hÃ³a phÃ­a mÃ¡y chá»§.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Di chuyá»ƒn cÃ¡c ná»™i dung tÄ©nh vÃ o Ä‘Ã¢y:
&lt;ul&gt;
&lt;li&gt;User file.&lt;/li&gt;
&lt;li&gt;JS.&lt;/li&gt;
&lt;li&gt;CSS.&lt;/li&gt;
&lt;li&gt;HÃ¬nh áº£nh.&lt;/li&gt;
&lt;li&gt;Video.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ThÃªm má»™t Memory Caching (Redis)
&lt;ul&gt;
&lt;li&gt;Data Ä‘Æ°á»£c truy cáº­p thÆ°á»ng xuyÃªn tá»« database.&lt;/li&gt;
&lt;li&gt;Data session tá»« Web Server.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Má»Ÿ rá»™ng Database
&lt;ul&gt;
&lt;li&gt;Chá»‰ lÆ°u trá»¯ dá»¯ liá»‡u trong má»™t khoáº£ng thá»i gian giá»›i háº¡n trong cÆ¡ sá»Ÿ dá»¯ liá»‡u, trong khi lÆ°u trá»¯ pháº§n cÃ²n láº¡i trong má»™t kho dá»¯ liá»‡u cháº³ng háº¡n nhÆ° Redshift.
&lt;ul&gt;
&lt;li&gt;Má»™t kho dá»¯ liá»‡u nhÆ° Redshift cÃ³ thá»ƒ thoáº£i mÃ¡i xá»­ lÃ½ giá»›i háº¡n 1 TB ná»™i dung má»›i má»—i thÃ¡ng.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Vá»›i 200 yÃªu cáº§u Ä‘á»c trung bÃ¬nh má»—i giÃ¢y, lÆ°u lÆ°á»£ng Ä‘á»c cho ná»™i dung phá»• biáº¿n cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i quyáº¿t báº±ng cÃ¡ch má»Ÿ rá»™ng Bá»™ nhá»› cache , Ä‘iá»u nÃ y cÅ©ng há»¯u Ã­ch Ä‘á»ƒ xá»­ lÃ½ lÆ°u lÆ°á»£ng truy cáº­p Ä‘Æ°á»£c phÃ¢n bá»• khÃ´ng Ä‘á»“ng Ä‘á»u vÃ  lÆ°u lÆ°á»£ng truy cáº­p tÄƒng Ä‘á»™t biáº¿n.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Báº£o máº­t há»‡ thá»‘ng
&lt;ul&gt;
&lt;li&gt;MÃ£ hÃ³a dá»¯ liá»‡u khi chuyá»ƒn tiáº¿p vÃ  á»Ÿ tráº¡ng thÃ¡i nghá»‰.&lt;/li&gt;
&lt;li&gt;Sá»­ dá»¥ng VPC(Virtual Private Cloud)
&lt;ul&gt;
&lt;li&gt;Táº¡o má»™t máº¡ng con cÃ´ng cá»™ng cho Web Server duy nháº¥t Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ gá»­i vÃ  nháº­n lÆ°u lÆ°á»£ng truy cáº­p tá»« internet.&lt;/li&gt;
&lt;li&gt;Táº¡o má»™t máº¡ng con riÃªng cho má»i thá»© khÃ¡c, ngÄƒn cháº·n sá»± truy cáº­p tá»« bÃªn ngoÃ i.&lt;/li&gt;
&lt;li&gt;Chá»‰ má»Ÿ cÃ¡c cá»•ng tá»« cÃ¡c IP cÃ³ trong danh sÃ¡ch cho phÃ©p cho phÃ©p.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sáº¯p tá»›i mÃ¬nh sáº½ cÃ³ má»™t báº£n demo vá» váº¥n Ä‘á» nÃ y á»Ÿ &lt;a class=&#34;link&#34; href=&#34;https://github.com/truongnh28&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;strong&gt;link nÃ y&lt;/strong&gt;&lt;/a&gt;. MÃ¬nh sáº½ cá»‘ gáº¯ng cáº­p nháº­t sá»›m nháº¥t.&lt;/p&gt;
&lt;h2 id=&#34;káº¿t-luáº­n&#34;&gt;Káº¿t luáº­n&lt;/h2&gt;
&lt;p&gt;TrÃªn Ä‘Ã¢y chá»‰ lÃ  hiá»ƒu biáº¿t cá»§a mÃ¬nh thÃ´ng qua viá»‡c tÃ¬m hiá»ƒu module System Design, báº£n thÃ¢n mÃ¬nh cÅ©ng hi vá»ng nháº­n Ä‘Æ°á»£c sá»± nhá»¯ng chia sáº» cÅ©ng nhÆ° tháº£o luáº­n tá»« phÃ­a cÃ¡c báº¡n Ä‘á»ƒ hoÃ n thiá»‡n hÆ¡n. Xin cáº£m Æ¡n.&lt;/p&gt;
&lt;h2 id=&#34;tham-kháº£o&#34;&gt;Tham kháº£o&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/donnemartin/system-design-primer&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;system-design-primer&lt;/a&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
</description>
        </item>
        
    </channel>
</rss>
